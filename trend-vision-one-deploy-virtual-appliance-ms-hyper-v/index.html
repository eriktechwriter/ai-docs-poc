<!doctype html>
<html lang="en-us" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-deploy-virtual-appliance-ms-hyper-v" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.8.1">
<title data-rh="true">Deploying a Service Gateway virtual appliance with Microsoft Hyper-V | Trend Vision One TechDocs | Trend Micro</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://eriktechwriter.github.io/ai-docs-poc/trend-vision-one-deploy-virtual-appliance-ms-hyper-v"><meta data-rh="true" property="og:locale" content="en_us"><meta data-rh="true" name="docusaurus_locale" content="en-us"><meta data-rh="true" name="docsearch:language" content="en-us"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Deploying a Service Gateway virtual appliance with Microsoft Hyper-V | Trend Vision One TechDocs | Trend Micro"><meta data-rh="true" name="description" content="Instructions on how to use the Command Line Interface (CLI) to deploy a Service Gateway virtual appliance with Microsoft Hyper-V."><meta data-rh="true" property="og:description" content="Instructions on how to use the Command Line Interface (CLI) to deploy a Service Gateway virtual appliance with Microsoft Hyper-V."><link data-rh="true" rel="icon" href="/ai-docs-poc/brand/favicon.ico"><link data-rh="true" rel="canonical" href="https://eriktechwriter.github.io/ai-docs-poc/trend-vision-one-deploy-virtual-appliance-ms-hyper-v"><link data-rh="true" rel="alternate" href="https://eriktechwriter.github.io/ai-docs-poc/trend-vision-one-deploy-virtual-appliance-ms-hyper-v" hreflang="en-us"><link data-rh="true" rel="alternate" href="https://eriktechwriter.github.io/ai-docs-poc/trend-vision-one-deploy-virtual-appliance-ms-hyper-v" hreflang="x-default"><link rel="stylesheet" href="/ai-docs-poc/assets/css/styles.f31b9b34.css">
<script src="/ai-docs-poc/assets/js/runtime~main.a698b785.js" defer="defer"></script>
<script src="/ai-docs-poc/assets/js/main.af1712bd.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t="light";var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",e||t),document.documentElement.setAttribute("data-theme-choice",e||t)}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav class="navbar_thvB"><div class="navbarContainer_T6aE"><div class="navbarLeft__b30"><a class="navbarBrand_EDOm" href="/ai-docs-poc/"><img src="/ai-docs-poc/brand/t-ball-icon.svg" alt="Trend Vision One" class="navbarIcon_K54r"><span class="navbarText_AeJ_">Trend Vision One <span class="techDocs_EEyr">TechDocs</span></span></a><div class="navbarNav_bcxn"><div class="dropdownContainer_QtRV"><button class="dropdownTrigger_Qbat" aria-expanded="false" aria-haspopup="true">Solutions<svg class="chevron_Ot6n" width="12" height="12" viewBox="0 0 12 12"><path d="M2 4l4 4 4-4" stroke="currentColor" stroke-width="1.5" fill="none"></path></svg></button></div><div class="dropdownContainer_QtRV"><button class="dropdownTrigger_Qbat" aria-expanded="false" aria-haspopup="true">Updates<svg class="chevron_Ot6n" width="12" height="12" viewBox="0 0 12 12"><path d="M2 4l4 4 4-4" stroke="currentColor" stroke-width="1.5" fill="none"></path></svg></button></div><div class="dropdownContainer_QtRV"><button class="dropdownTrigger_Qbat" aria-expanded="false" aria-haspopup="true">Guides<svg class="chevron_Ot6n" width="12" height="12" viewBox="0 0 12 12"><path d="M2 4l4 4 4-4" stroke="currentColor" stroke-width="1.5" fill="none"></path></svg></button></div><div class="dropdownContainer_QtRV"><button class="dropdownTrigger_Qbat" aria-expanded="false" aria-haspopup="true">Resources<svg class="chevron_Ot6n" width="12" height="12" viewBox="0 0 12 12"><path d="M2 4l4 4 4-4" stroke="currentColor" stroke-width="1.5" fill="none"></path></svg></button></div><div class="dropdownContainer_QtRV"><button class="dropdownTrigger_Qbat" aria-expanded="false" aria-haspopup="true">Support &amp; Compliance<svg class="chevron_Ot6n" width="12" height="12" viewBox="0 0 12 12"><path d="M2 4l4 4 4-4" stroke="currentColor" stroke-width="1.5" fill="none"></path></svg></button></div><div class="dropdownContainer_QtRV"><button class="dropdownTrigger_Qbat" aria-expanded="false" aria-haspopup="true">Legacy Products<svg class="chevron_Ot6n" width="12" height="12" viewBox="0 0 12 12"><path d="M2 4l4 4 4-4" stroke="currentColor" stroke-width="1.5" fill="none"></path></svg></button></div></div></div><div class="navbarActions_Kz3N"><div class="searchContainer_bUHY"><input type="search" placeholder="Search docs..." class="searchInput_wxeP"></div><div class="darkModeToggle_kLkm"><button class="darkModeButton_WNed" aria-label="Toggle dark mode">ðŸŒ™</button></div><button class="mobileMenuButton_OkTY" aria-label="Toggle mobile menu"><span class="hamburger_uk35"></span><span class="hamburger_uk35"></span><span class="hamburger_uk35"></span></button></div></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><main class="docMainContainer_TBSr docMainContainerEnhanced_lQrH"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Deploying a Service Gateway virtual appliance with Microsoft Hyper-V</h1></header><p>Instructions on how to use the Command Line Interface (CLI) to deploy a Service Gateway virtual appliance with Microsoft Hyper-V.</p>
<p>Verify that system requirements are met. For more information, see <a href="/ai-docs-poc/trend-vision-one-sg-sys-requirements">Service Gateway appliance system requirements</a>.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="procedure">Procedure<a href="#procedure" class="hash-link" aria-label="Direct link to Procedure" title="Direct link to Procedure">â€‹</a></h3>
<ol>
<li>
<p>Go to <strong>Workflow and Automation â†’ Service Gateway Management</strong>.</p>
</li>
<li>
<p>Click <strong>Download Virtual Appliance</strong>.</p>
<p>The <strong>Service Gateway Virtual Appliance</strong> panel appears.</p>
</li>
<li>
<p>Select <strong>Microsoft Hyper-V (VHD)</strong>.</p>
</li>
<li>
<p>Select a virtual appliance specification and click <strong>Download Disk Image</strong> to download an VHD file in a compressed archive.</p>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_BuS1"><p>Copy the registration token for later steps. The registration token will expire within 24 hours if not used.</p></div></div>
</li>
<li>
<p>Extract the VHD file using a ZIP extractor.</p>
</li>
<li>
<p>Create a virtual machine.</p>
<ol>
<li>
<p>On Hyper-V Manager, right-click on your machine and <strong>New â†’ Virtual Machine</strong>.</p>
<figure>
<img decoding="async" loading="lazy" src="./images/sg_hyperv_new=20211115170204.webp" class="img_ev3q">
</figure>
</li>
<li>
<p>Click <strong>Next</strong>.</p>
<figure>
<img decoding="async" loading="lazy" src="./images/sg_hyperv_1_beforeyoubegin=20220525104621.webp" class="img_ev3q">
</figure>
</li>
<li>
<p>Specify a name for the Service Gateway virtual appliance and click <strong>Next</strong>.</p>
<figure>
<img decoding="async" loading="lazy" src="./images/sg_hyperv_2_name=20211022152937=.webp" class="img_ev3q">
</figure>
</li>
<li>
<p>Specify <strong>Generation 1</strong> and click <strong>Next</strong>.</p>
<figure>
<img decoding="async" loading="lazy" src="./images/sg_hyperv_3_generation=20211022153037=.webp" class="img_ev3q">
</figure>
</li>
<li>
<p>Specify the amount of memory needed for the VM based on the system requirements, and then click <strong>Next</strong>.</p>
<figure>
<img decoding="async" loading="lazy" src="./images/sg_hyperv_4_memory=20211022153058=.webp" class="img_ev3q">
</figure>
</li>
<li>
<p>Specify the network connection that the VM will use, and then click <strong>Next</strong>.</p>
<figure>
<img decoding="async" loading="lazy" src="./images/sg_hyperv_5_networking=20211022153406=.webp" class="img_ev3q">
</figure>
</li>
<li>
<p>Click <strong>Use an existing virtual hard disk</strong>, and then click <strong>Browse</strong>.</p>
<figure>
<img decoding="async" loading="lazy" src="./images/sg_hyperv_6_hdd=20211022153447=.webp" class="img_ev3q">
</figure>
</li>
<li>
<p>Navigate to the location where you extracted the VHD file, select the file, and then click <strong>Open</strong>.</p>
<figure>
<img decoding="async" loading="lazy" src="./images/sg_hyperv_7_hddfile=20211022153513=.webp" class="img_ev3q">
</figure>
</li>
<li>
<p>Click <strong>Next</strong>.</p>
<figure>
<img decoding="async" loading="lazy" src="./images/sg_hyperv_8_hddnext=20211022153608=.webp" class="img_ev3q">
</figure>
</li>
<li>
<p>Review the settings, and then click <strong>Finish</strong>.</p>
<figure>
<img decoding="async" loading="lazy" src="./images/sg_hyperv_9_finish=20211022155239=.webp" class="img_ev3q">
</figure>
</li>
</ol>
<ol>
<li>
<p>From the <strong>Hyper-V Manager</strong> <strong>Virtual Machines</strong> list, right-click on the Service Gateway virtual appliance and click <strong>Settings</strong>.</p>
<figure>
<img decoding="async" loading="lazy" src="./images/sg_hyperv_11_offstatesettings=20211022161940=.webp" class="img_ev3q">
</figure>
</li>
<li>
<p>Click <strong>Processor</strong>, specify the number of virtual processors, and then click <strong>OK</strong>.</p>
<figure>
<img decoding="async" loading="lazy" src="./images/sg_hyperv_12_cpus=20211022162017=.webp" class="img_ev3q">
</figure>
</li>
</ol>
</li>
<li>
<p>From the <strong>Hyper-V Manager</strong> <strong>Virtual Machines</strong> list, right-click on the Service Gateway virtual appliance and click <strong>Connect</strong>.</p>
<figure>
<img decoding="async" loading="lazy" src="./images/sg_hyperv_13_connect=20211022162114=.webp" class="img_ev3q">
</figure>
</li>
<li>
<p>Click <strong>Start</strong> to start the virtual machine.</p>
<p>Service installation during the first launch of the appliance takes approximately 10 minutes.</p>
<figure>
<img decoding="async" loading="lazy" src="./images/sg_hyperv_14_start=20211022162141=.webp" class="img_ev3q">
</figure>
</li>
<li>
<p>On the Service Gateway virtual appliance, log on to the Command Line Interface (CLI) with the default credentials.</p>
<p>User name: admin</p>
<p>Password: V1SG@2021</p>
</li>
<li>
<p>Change your password.</p>
</li>
<li>
<p>Type <code>enable</code> and press the <code>ENTER</code> key to enable administrative commands. Provide your password when asked.</p>
<p>The command prompt changes from &gt; to #.</p>
</li>
<li>
<p>Configure the required network settings using the following CLISH commands.</p>
<p><code>Configure network primary ipv4.static &lt;interface&gt; &lt;ip_cidr&gt; &lt;gateway&gt; &lt;dns1&gt; [dns2] [cni] </code></p>
<p><code>Configure static IPv4 network settings for the primary network interface</code></p>
<p><code>&lt;interface&gt;: Name of the network interface (for example, eth0)</code></p>
<p><code>&lt;ip_cidr&gt;: IPv4 address of the network interface in CIDR notation</code></p>
<p><code>&lt;gateway&gt;: Gateway router address</code></p>
<p><code>&lt;dns1&gt;: Primary DNS server address</code></p>
<p><code>[dns2]: Secondary DNS server address</code></p>
<p><code>[cni]: Internal network address pool (IP address ending in .0.0)</code></p>
</li>
<li>
<p>To register the Service Gateway virtual appliance to Trend Vision One, use an SSH tool, such as the latest version of PuTTY, and using an account with administrator privileges, type the following command.</p>
<p><code>register &lt;registration_token&gt;</code></p>
<p>You can obtain the token from the same screen you download the virtual appliance on Trend Vision One (step 3).</p>
<div class="theme-admonition theme-admonition-warning admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>Important</div><div class="admonitionContent_BuS1"><p>The virtual appliance only supports UTC time. Ensure your hypervisor is correctly configured.</p></div></div>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><ul>
<li>
<p>If your environment uses a local Network Time Protocol (NTP) server, make sure the NTP server synchronizes with the local time for successful registration.</p>
</li>
<li>
<p>Trend Micro recommends using an SSH client to easily copy and paste the registration token.</p>
</li>
</ul></div></div>
</li>
<li>
<p>Use the CLI to configure other settings, if required.</p>
<p>For more information on available commands, see <a href="/ai-docs-poc/service-gateway-cli-commands.md">Service Gateway CLI commands</a>.</p>
</li>
</ol></div></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#procedure" class="table-of-contents__link toc-highlight">Procedure</a></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Â© 2025  Trend Micro Incorporated. All rights reserved.</div></div></div></footer></div>
</body>
</html>