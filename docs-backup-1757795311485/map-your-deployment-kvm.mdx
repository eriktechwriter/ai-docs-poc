---
slug: trend-vision-one-map-your-deployment-kvm
title: Mapping your deployment with KVM
---
# Mapping your deployment with KVM

Visualize how the Virtual Network Sensor fits into your network environment before planning your deployment.

The following maps provide an overview of deployment scenarios tested and supported by the Virtual Network Sensor. Use these maps to help guide your deployment plans to best meet the needs of your network. Each scenario contains a link to the post-deployment network configuration steps for the mapped configuration.

- To monitor network traffic within the host machine the Virtual Network Sensor is deployed on, see Internal network traffic scenario.

- To monitor network traffic between virtual machines deployed on a different host machine than the Virtual Network Sensor, see External inter-VM traffic scenario.

- To monitor all network traffic passing through a physical network switch, see External traffic scenarios.

- For monitoring traffic bandwidth above 2 Gbps regardless of source, see External traffic PCI passthrough scenario.

## Internal network traffic scenario {#internal-network-traffic-scenario}

Internal network traffic refers to traffic occurring within the host machine where the Virtual Network Sensor is deployed. This scenario is best for monitoring traffic between virtual machines on the same KVM host as the Virtual Network Sensor. Traffic is mirrored from a virtual network switch set up on the host machine to the Virtual Network Sensor data port virtual NIC.

Review the scenario below to determine if it is the best fit for your network.

- **Open vSwitch (SPAN)**

  To configure your network using this scenario, see [Configuring internal network traffic with Open vSwitch (SPAN)](internal-traffic-open-vswitch-span.mdx).

  ![](/images/KVM_Internal=GUID-74d00452-ba8d-42cd-8116-0a29f611fd33.webp)

## External inter-VM traffic scenario {#external-inter-vm-traffic-scenario}

External traffic refers to any scenario where monitored traffic is mirrored from a source outside of the host machine where the Virtual Network Sensor is deployed. External inter-VM deployments are best for monitoring traffic between virtual machines on a different host from the Virtual Network Sensor. Traffic is mirrored from a virtual network switch set up on the source host machine, through a physical network switch, to the Virtual Network Sensor via the physical network connection of the host machine.

Review the scenario below to determine if it is the best fit for your network.

- **ERSPAN**

  To configure your network using this scenario, see [Configuring external inter-VM traffic with ERSPAN (KVM host)](inter-vm-traffic-erspan-kvm.mdx).

  ![](/images/KVM_InterVM=GUID-0c19093d-78d5-40f0-99f8-e81ff85ba694.webp)

## External traffic scenarios {#external-traffic-scenarios}

External traffic refers to any scenario where monitored traffic is mirrored from a source outside of the host machine where the Virtual Network Sensor is deployed. These scenarios are best for monitoring traffic on your network as it passes through a physical network switch. Traffic is mirrored from source physical network switch to the Virtual Network Sensor via the physical network connection of the host machine.

Virtual Network Sensor supports several methods for KVM deployments. Review the scenarios below to determine which is the best fit for your network.

- **Open vSwitch (RSPAN)**

  To configure your network using this scenario, see [Configuring external network traffic with Open vSwitch (RSPAN)](external-traffic-open-vswitch-rspan.mdx).

  ![](/images/KVM_Ext_RSPAN=GUID-b95f9008-d6cf-4091-ba27-c3674fd98c94.webp)

- **Open vSwitch (SPAN)**

  To configure your network using this scenario, see [Configuring external network traffic with Open vSwitch (SPAN)](network-traffic-vswitch-span.mdx).

  ![](/images/KVM_Ext_SPAN=GUID-fa08373f-833f-4c37-be3a-0d6b3f608d69.webp)

## External traffic PCI passthrough scenario {#external-traffic-pci-passthrough-scenario}

External traffic refers to any scenario where monitored traffic is mirrored from a source outside of the host machine where the Virtual Network Sensor is deployed. This scenario is best for deploying a Virtual Network Sensor with an expected bandwidth throughput greater than 2 Gbps. Traffic is mirrored from a source physical network switch to the Virtual Network Sensor via a physical connection configured for PCI passthrough on the host machine.

Review the scenario below to determine if it is the best fit for your network.

- **PCI passthrough with KVM host**

  To configure your network using this scenario, see [Configuring external network traffic with PCI passthrough (KVM host)](-pci-passthrough-kvm-host.mdx).

  ![](/images/KVM_PCIPassthrough=GUID-c6e2c436-1274-4ec7-8834-c2c5483cb31d.webp)
:::
