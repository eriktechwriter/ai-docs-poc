---
slug: trend-vision-one-enable-configure-anti-malware
title: Enable and configure Anti-Malware
---
# Enable and configure Anti-Malware

::::::To use Anti-Malware, perform these basic steps:

### Procedure {#procedure}

1.  Turn on the Anti-Malware module.

2.  Select the types of scans to perform.

3.  Configure scan inclusions.

4.  Configure scan exclusions.

5.  Scan for recommended exclusions on computers.

6.  Ensure that Server & Workload Protection can keep up to date on the latest threats.

### Next steps {#next-steps}

When you have completed these steps, review [Configure malware scans](configure-malware-scans.mdx) and refine the Anti-Malware scan behavior.

:::tip

For most Anti-Malware settings, you can either configure them for each individual computer or in a policy that applies to multiple computers (for example, to all Windows 2008 Servers). To make management easier, configure the settings in the policy (not individual computers) wherever possible. For more information, see [Policies, inheritance, and overrides](policies-inheritance-overrides.mdx).
:::

:::tip

CPU usage and RAM usage varies by your Anti-Malware configuration. To optimize Anti-Malware performance on the agent, see [Performance tips for Anti-Malware](performance-tips-for-anti-malware.mdx).
:::

For an overview of the Anti-Malware feature, see [Protect against malware](anti-malware.mdx).

## Turn on the Anti-Malware module {#turn-on-the-anti-malware-module}

### Procedure {#procedure-1}

1.  Go to *Policies*.

2.  Double-click the policy for which you want to enable Anti-Malware.

3.  Go to **Anti-Malware → General**.

4.  From *Anti-Malware State*, select *On*.

5.  Click *Save*.

## Select the types of scans to perform {#select-the-types-of-scans-to-perform}

When Anti-Malware is turned on, Server & Workload Protection needs to know what type of scans it should perform (see [Types of malware scans](anti-malware.mdx)).

### Procedure {#procedure-2}

1.  Go to *Policies*.

2.  Double-click the policy to configure.

3.  Click **Anti-Malware → General**.

4.  Enable or disable each type of scan: a. To perform the scan using default settings, select *Default*. b. To perform the scan using a malware scan configuration that you can customize, select a malware scan configuration. c. To disable the scan, for the malware scan configuration select *No Configuration*.

5.  Click *Save*.

### Next steps {#next-steps-1}

:::tip

Trend Micro recommends that you configure Server & Workload Protection to perform weekly scheduled scans on all protected servers. You can do this using Scheduled Tasks. (See [Schedule Server & Workload Protection to perform tasks](schedule-perform-tasks.mdx).)
:::

## Configure scan inclusions {#configure-scan-inclusions}

To reduce scanning time and minimize the use of computing resources, you can configure malware scans to include only specific folders, files, and file types in all types of scans. You can also include process image files in real-time malware scans that are run on Windows computers. For more information, see [Configure malware scan inclusions](configure-malware-scan-inclusions.mdx).

All inclusions are specified by selecting inclusion lists on the **Inclusions** tab of the Malware Scan Configuration editor. Lists can be either inherited or non-inherited. You can select multiple lists for your inclusions list.

:::warning[Important]

To allow configuring of multiple inclusion lists, you must first select an inclusion list in the malware scan configuration inclusions. Selecting all directories or all files disables adding lists for the inclusion type. For more information, see [Configure malware scan inclusions](configure-malware-scan-inclusions.mdx).
:::

### Procedure {#procedure-3}

1.  Go to **Policies**.

2.  Double-click the policy you want to configure.

3.  Go to **Anti-Malware → Inclusions**.

4.  Select the type of scan type to configure inclusions.

    - **Real-time**
    - **Scheduled**
    - **Manual**

5.  To add all inherited lists, select **Use inherited lists**.

6.  To add non-inherited lists, select a list from the drop-down and click **Add**.

7.  To create a new list, select **New..**.

    For details, see [Create a list of files for use in policies](https://docs.trendmicro.com/en-us/documentation/article/trend-micro-cloud-one-workload-security-policy-file-lists).

8.  To edit an added list, click the edit icon (![](/images/edit_icon=e7185c2d-6f93-4c2e-b948-df234b411a9d.webp)).

9.  To remove a list, click the delete icon (![](/images/trash_icon=0eda34e9-d4e0-4faa-bfbf-a8c120f1ba1c.webp)).

10. Click **Save**.

## Configure scan exclusions {#configure-scan-exclusions}

:::warning[Important]

- To allow configuring of multiple exclusion lists, you must first select an exclusion list in the malware scan configuration exclusions. Clearing or disabling an exclusion list disables adding lists for the exclusion type. For more information, see [Configure malware scan exclusions](configure-malware-scan-exclusions.mdx).

- Recommended Exclusions is not available in all regions.

- Recommended Exclusions supports Trend Vision One Endpoint Security agent version 202501 and later (Server & Workload Protection version 20.0.2.1390 and later). Activity Monitoring must be enabled for agent version 202503 and earlier (Server & Workload Protection version 20.0.2.4960 and earlier).

- Recommended Exclusions requires firewall settings to allow Internet of Things (IoT) traffic to Amazon Web Services.

- Automatically assigning recommended exclusions is an Advanced Server & Workload Protection feature that requires additional credits per endpoint the policy is applied to.

- Carefully review the recommended exclusions before enabling the feature to ensure any potential security risks are understood for your environment.
:::

To reduce scanning time and minimize the use of computing resources, you can configure malware scans to exclude specific folders, files, and file types from all types of scans. You can also exclude process image files from real-time malware scans that are run on Windows computers. For more information, see [Configure malware scan exclusions](configure-malware-scan-exclusions.mdx).

:::tip

If any performance-related issues are experienced when Server & Workload Protection Anti-Malware protection is enabled, you can use exclusions to help troubleshoot these issues by excluding specific folders or files from scanning.
:::

All exclusions are specified by selecting exclusion lists on the **Exclusions** tab of the Malware Scan Configuration editor. Lists can be either inherited or non-inherited. You can select multiple lists for your exclusion list.

### Procedure {#procedure-4}

1.  Go to **Policies**.

2.  Double-click the policy you want to configure.

3.  Go to **Anti-Malware → Exclusions**.

4.  To configure exclusions for Real-time scan, click **Real-time**.

5.  Configure Recommended Scan settings for Real-time scans.

    1.  To manage whether agents can use recommendation scan results to dynamically apply exclusions, configure the setting for **Automatically assign application-based recommended exclusions**.

        - **Inherited**: Use the parent policy settings.

        - **No**: Do not automatically assign recommended exclusions.

        - **Yes**: Automatically assign recommended exclusions.

    2.  To manage recommended exclusions manually, click **Assign/Unassign** in the **Assigned Recommended Exclusions** list and select the applications you want to exclude from real-time scans.

6.  To prevent Recommended Exclusions from assigning an application as an exclusion, configure the application properties.

    1.  Click **Assign/Unassign** in the **Assigned Recommended Exclusions** list.

    2.  Click the application you want to exclude and click **Properties...**

    3.  Go to **Options**.

    4.  Configure the setting **Exclude from Recommendations**.

        - **Inherited**: Use the parent policy settings.

        - **No**: Recommended Exclusions can assign the application as an exclusion.

        - **Yes**: Recommended Exclusions cannot assign the application as an exclusion.

7.  Configure the exclusion lists.

    The following lists can be configured by navigating between **Real-Time**, **Scheduled**, and **Manual**.

    - **File List**

    - **Directory List**

    - **File Extension List**

    - **Process Image File List** (Real-Time scan only)

8.  To add all inherited lists, select **Use inherited lists**.

9.  To add non-inherited lists, select a list and click **Add**.

10. To create a new list, select **New..**.

    For details, see [Create a list of files for use in policies](https://docs.trendmicro.com/en-us/documentation/article/trend-micro-cloud-one-workload-security-policy-file-lists).

11. To edit an added list, click the edit icon (![](/images/edit_icon=e7185c2d-6f93-4c2e-b948-df234b411a9d.webp)).

12. To remove a list, click the delete icon (![](/images/trash_icon=0eda34e9-d4e0-4faa-bfbf-a8c120f1ba1c.webp)).

13. Click **Save**.

## Scan for recommended exclusions on computers {#scan-for-recommended-exclusions-on-computers}

:::warning[Important]

- Recommended Exclusions is not available in all regions.

- Recommended Exclusions supports Trend Vision One Endpoint Security agent version 202501 and later (Server & Workload Protection version 20.0.2.1390 and later). Activity Monitoring must be enabled for agent version 202503 and earlier (Server & Workload Protection version 20.0.2.4960 and earlier).

- Recommended Exclusions requires firewall settings to allow Internet of Things (IoT) traffic to Amazon Web Services.

- Carefully review the recommended exclusions before excluding any recommendations to ensure any potential security risks are understood for your environment.
:::

To discover if any applications Trend Micro recommends for Anti-Malware exclusions are installed on your endpoints, you can scan for recommendations from the Computer editor.

### Procedure {#procedure-5}

1.  Go to **Computers** and open the computer editor for the endpoint you want to manage.

2.  Go to **Anti-Malware → Exclusions → Real-time**.

3.  Under **Recommended Exclusions**, click **Scan For Recommendations**.

    The agent scans the endpoint for any installed application on the [Recommended Exclusions list](recommended-exclusions.mdx). The process might take up to 10 minutes to complete. You can refresh the screen to check for the results. The **Last Scan for Recommendations** should update once complete.

4.  After the scan completes, check the number of **Detected Applications**.

    If the number is 0, the endpoint does not have any recommended applications not already added to the **Assigned Recommeneded Exclusions** list.

5.  To assign more exclusions, click **Assign/Unassign**.

6.  Filter the list for **Recommended for Assignment**.

7.  Select the applications you want to exclude and click **OK**.

8.  Click **Save** to save the settings.

9.  To clear the recommendation scan results, click **Clear Recommendations**.

## Ensure that Server & Workload Protection can keep up to date on the latest threats {#ensure-that-server-workload-protection-can-keep-up-to-date-on-the-latest-threats}

To remain effective against new viruses and exploits, agents need to be able to download the latest software and component update packages from Trend Micro or indirectly, from your own Relay. These packages contain threat definitions and patterns. Relay-enabled agents, organized into relay groups (also managed and configured by Server & Workload Protection) retrieve component updates from Trend Micro, and then distribute them to other agents and appliances.

### Procedure {#procedure-6}

1.  Go to **Administration → System Settings → Updates.**

2.  Configure Server & Workload Protection's ability to retrieve component updates from Trend Micro. Make sure you have at least one relay-enabled agent, and it is assigned to the appropriate agents and appliances. To determine if an agent is a relay, next to a computer, click *Preview*.

    ![](/images/configure-anti-malware_check-for-relay=5dee4790-f4f6-413b-be85-16966a0487dd.webp)

3.  Go to **Administration → Scheduled Tasks**.

4.  Verify that there is a scheduled task to regularly download available updates for both component and software updates.
::::::::::
