"use strict";(self.webpackChunktrend_vision_one_docs=self.webpackChunktrend_vision_one_docs||[]).push([[6786],{9354:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>d,contentTitle:()=>l,default:()=>p,frontMatter:()=>r,metadata:()=>s,toc:()=>a});const s=JSON.parse('{"id":"create-golden-agent-image","title":"Creating a golden image with the agent software","description":"Prepare a template to easily deploy endpoint agents and sensors to cloned desktops on physical machines, as well as persistent and non-persistent virtual desktops.","source":"@site/docs/create-golden-agent-image.md","sourceDirName":".","slug":"/trend-vision-one-create-golden-agent-image","permalink":"/ai-docs-poc/trend-vision-one-create-golden-agent-image","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"slug":"trend-vision-one-create-golden-agent-image","title":"Creating a golden image with the agent software"}}');var i=t(74848),o=t(28453);const r={slug:"trend-vision-one-create-golden-agent-image",title:"Creating a golden image with the agent software"},l=void 0,d={},a=[{value:"Procedure",id:"procedure",level:3}];function c(e){const n={a:"a",admonition:"admonition",code:"code",col:"col",colgroup:"colgroup",figure:"figure",h3:"h3",img:"img",li:"li",ol:"ol",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,o.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.p,{children:"Prepare a template to easily deploy endpoint agents and sensors to cloned desktops on physical machines, as well as persistent and non-persistent virtual desktops."}),"\n",(0,i.jsx)(n.admonition,{title:"Important",type:"warning",children:(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Follow these instructions carefully. If you clone your own VDI machines, it causes agent IDs to be duplicated and deployed agents cannot perform response actions."}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"The Image Setup Tool only supports Windows agents."}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Virtual desktops which are not powered on regularly are considered inactive and are removed automatically based on your agent settings. For more information about inactive agent removal, see ",(0,i.jsx)(n.a,{href:"/ai-docs-poc/trend-vision-one-deployment-using-golden-image",children:"Deployment using a golden image"}),"."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Updating the agent program requires creating a snapshot image before running the Image Setup Tool. For more information about updating a golden image, see ",(0,i.jsx)(n.a,{href:"/ai-docs-poc/trend-vision-one-updating-agent-for-templates",children:"Updating the agent for golden image templates"}),"."]}),"\n"]}),"\n"]})}),"\n",(0,i.jsxs)(n.p,{children:["Carefully review the ",(0,i.jsx)(n.a,{href:"/ai-docs-poc/trend-vision-one-deployment-using-golden-image",children:"feature support and requirements"})," for this deployment method before reviewing the steps."]}),"\n",(0,i.jsx)(n.h3,{id:"procedure",children:"Procedure"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Power on and set up the source desktop you want to use to create the template, including configuring the operating system, VM settings, and software."}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Configure the software for a VDI or cloned environment, including any endpoint protection software."}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["In the Trend Vision One console, go to ",(0,i.jsx)(n.strong,{children:"Endpoint Security Operations \u2192 Endpoint Inventory"})," and click ",(0,i.jsx)(n.strong,{children:"Agent Installer"}),"."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Download the Agent Installer package you want to use and install the agent on the source desktop."}),"\n",(0,i.jsx)(n.p,{children:"Follow the steps in the linked topics based on the agent type you wish to use to install the agent program on the source desktop:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"/ai-docs-poc/trend-vision-one-endpoint-sensor-agent-deployment",children:"Endpoint Sensor Agent Deployment"})}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["After installation finishes, go to ",(0,i.jsx)(n.strong,{children:"Endpoint Security Operations \u2192 Endpoint Inventory"})," and locate the source desktop on the list."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Verify that the desired endpoint policy settings are correct."}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"If you want to facilitate future agent upgrades, create a snapshot of your source desktop."}),"\n",(0,i.jsxs)(n.p,{children:["For more information, see ",(0,i.jsx)(n.a,{href:"/ai-docs-poc/trend-vision-one-updating-agent-for-templates",children:"Updating the agent for golden image templates"}),"."]}),"\n",(0,i.jsx)(n.p,{children:"The following the steps detail how to download and run the Image Setup Tool. Trend Micro recommends using the Image Setup Tool for all of your template-based deployments."}),"\n",(0,i.jsx)(n.admonition,{title:"Important",type:"warning",children:(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"The Image Setup Tool does not support Linux or macOS deployments. Skip ahead to complete the setup."}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"You must use the Image Setup Tool for deploying non-persistent Windows virtual desktops."}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"The Image Setup Tool disables updates for the endpoint agent. To maintain the ability to update the agent program in the future, you must create a snapshot of the source desktop before installing and running the Image Setup Tool."}),"\n"]}),"\n"]})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["In the Trend Vision One console, go to ",(0,i.jsx)(n.strong,{children:"Endpoint Security Operations \u2192 Endpoint Inventory"})," and click ",(0,i.jsx)(n.strong,{children:"Agent Installer"}),"."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Click the ",(0,i.jsx)(n.strong,{children:"Download Image Setup Tool"})," icon (",(0,i.jsx)(n.img,{src:t(66641).A+"",width:"18",height:"18"}),") for your agent type."]}),"\n",(0,i.jsxs)(n.p,{children:["The ",(0,i.jsx)(n.strong,{children:"Virtual Desktop Image Setup Tool"})," screen appears."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Click ",(0,i.jsx)(n.strong,{children:"Download"})," to download the Image Setup Tool."]}),"\n",(0,i.jsx)(n.admonition,{title:"Important",type:"warning",children:(0,i.jsx)(n.p,{children:"The downloaded Image Setup Tool package is specific to your organization."})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Copy the ",(0,i.jsx)(n.strong,{children:"Admin token"}),"."]}),"\n",(0,i.jsxs)(n.figure,{children:["\n",(0,i.jsx)(n.img,{src:"./images/vdiImageSetupToolAdminToken=20230629144444.webp"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Extract the contents of the ",(0,i.jsx)(n.code,{children:"ImageSetupTool.zip"})," package onto the source desktop."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Run ",(0,i.jsx)(n.code,{children:"ImageSetupTool.exe"})," as an administrator on the source desktop to prepare the agent."]}),"\n",(0,i.jsx)(n.admonition,{title:"Important",type:"warning",children:(0,i.jsx)(n.p,{children:"Specify if your cloned machine is physical/persistent or non-persistent."})}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsxs)(n.colgroup,{children:["\n",(0,i.jsx)(n.col,{style:{width:"50%"}}),"\n",(0,i.jsx)(n.col,{style:{width:"25%"}}),"\n",(0,i.jsx)(n.col,{style:{width:"25%"}}),"\n"]}),(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:(0,i.jsx)(n.p,{children:"Command"})}),(0,i.jsx)(n.th,{children:(0,i.jsx)(n.p,{children:"Use Case"})}),(0,i.jsx)(n.th,{children:(0,i.jsx)(n.p,{children:"Supported Features"})})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.p,{children:(0,i.jsx)(n.code,{children:"ImageSetupTool.exe --persistent "})})}),(0,i.jsx)(n.td,{children:(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.p,{children:"Persistent virtual desktops"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.p,{children:"Physical desktop clones"})}),"\n"]})}),(0,i.jsx)(n.td,{children:(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.p,{children:"Standard agent auto-removal"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.p,{children:"Vulnerability Assessment available"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.p,{children:"In-place upgrades"})}),"\n"]})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.p,{children:(0,i.jsx)(n.code,{children:"ImageSetupTool.exe --non-persistent "})})}),(0,i.jsx)(n.td,{children:(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.p,{children:"Non-persistent virtual desktops"})}),"\n"]})}),(0,i.jsx)(n.td,{children:(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.p,{children:"Non-persistent agent auto-removal available from Endpoint Inventory"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.p,{children:"Vulnerability Assessment disabled"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.p,{children:"In-place upgrades disabled"})}),"\n"]})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsxs)(n.td,{children:[(0,i.jsx)(n.p,{children:(0,i.jsx)(n.code,{children:"ImageSetupTool.exe --persistent --no-login"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.code,{children:"ImageSetupTool.exe --non-persistent --no-login"})})]}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.p,{children:"Do not require a login for the newly provisioned machine"})}),(0,i.jsx)(n.td,{children:(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.p,{children:"Citrix ICA virtual channels"})}),"\n"]})})]})]})]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Paste the admin token copied from the Endpoint Inventory app when prompted."}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Delete the Image Setup Tool from the source desktop once image setup completes."}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Export your source desktop as a golden image template."}),"\n",(0,i.jsx)(n.p,{children:"When signing into a desktop created using the golden image template, the newly-provisioned endpoint appears in the Endpoint Inventory list."}),"\n"]}),"\n"]})]})}function p(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(c,{...e})}):c(e)}},28453:(e,n,t)=>{t.d(n,{R:()=>r,x:()=>l});var s=t(96540);const i={},o=s.createContext(i);function r(e){const n=s.useContext(o);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:r(e.components),s.createElement(o.Provider,{value:n},e.children)}},66641:(e,n,t)=>{t.d(n,{A:()=>s});const s="data:image/webp;base64,UklGRpYAAABXRUJQVlA4IIoAAACQBACdASoSABIAPpE6mUeloyKhKA1QsBIJaQAAMWTGPSe01v6EPzmB5JRecAAA/vfHNkuWLNPuzJevInFBvTUsQrnM1Ux5MPfIaAO7eVEbKSEd+8R3SzA4cbpFKZZNf4cHY9u+87cWj3HR5/L2978X4HD+Jh9WLtW4svSp0ckQzHuHiFIhMyJAAAA="}}]);