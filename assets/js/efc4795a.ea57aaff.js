"use strict";(self.webpackChunktrend_vision_one_docs=self.webpackChunktrend_vision_one_docs||[]).push([[7601],{28453:(e,n,i)=>{i.d(n,{R:()=>o,x:()=>a});var s=i(96540);const r={},t=s.createContext(r);function o(e){const n=s.useContext(t);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),s.createElement(t.Provider,{value:n},e.children)}},87741:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>c,contentTitle:()=>a,default:()=>h,frontMatter:()=>o,metadata:()=>s,toc:()=>l});const s=JSON.parse('{"id":"sg-virtual-app-vmware-esxi","title":"Deploying a Service Gateway virtual appliance with VMware ESXi","description":"Instructions on how to use the Command Line Interface (CLI) to deploy a Service Gateway virtual appliance with VMware ESXi.","source":"@site/docs/sg-virtual-app-vmware-esxi.md","sourceDirName":".","slug":"/trend-vision-one-sg-virtual-app-vmware-esxi","permalink":"/ai-docs-poc/trend-vision-one-sg-virtual-app-vmware-esxi","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"slug":"trend-vision-one-sg-virtual-app-vmware-esxi","title":"Deploying a Service Gateway virtual appliance with VMware ESXi"}}');var r=i(74848),t=i(28453);const o={slug:"trend-vision-one-sg-virtual-app-vmware-esxi",title:"Deploying a Service Gateway virtual appliance with VMware ESXi"},a=void 0,c={},l=[{value:"Procedure",id:"procedure",level:3}];function d(e){const n={a:"a",admonition:"admonition",code:"code",figure:"figure",h3:"h3",img:"img",li:"li",ol:"ol",p:"p",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.p,{children:"Instructions on how to use the Command Line Interface (CLI) to deploy a Service Gateway virtual appliance with VMware ESXi."}),"\n",(0,r.jsxs)(n.p,{children:["Verify that system requirements are met. For more information, see ",(0,r.jsx)(n.a,{href:"/ai-docs-poc/trend-vision-one-sg-sys-requirements",children:"Service Gateway appliance system requirements"}),"."]}),"\n",(0,r.jsx)(n.h3,{id:"procedure",children:"Procedure"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["Go to ",(0,r.jsx)(n.strong,{children:"Workflow and Automation \u2192 Service Gateway Management"}),"."]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["Click ",(0,r.jsx)(n.strong,{children:"Download Virtual Appliance"}),"."]}),"\n",(0,r.jsxs)(n.p,{children:["The ",(0,r.jsx)(n.strong,{children:"Service Gateway Virtual Appliance"})," panel appears."]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["Select ",(0,r.jsx)(n.strong,{children:"VMware ESXi (OVA)"}),"."]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["Select a virtual appliance specification and click ",(0,r.jsx)(n.strong,{children:"Download Disk Image"})," to download an OVA file."]}),"\n",(0,r.jsx)(n.admonition,{type:"tip",children:(0,r.jsx)(n.p,{children:"Copy the registration token for later steps. The registration token will expire within 24 hours if not used."})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Create a virtual machine."}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["On VMware ESXi, go to ",(0,r.jsx)(n.strong,{children:"Virtual Machines"})," and click ",(0,r.jsx)(n.strong,{children:"Create / Register VM"}),"."]}),"\n",(0,r.jsxs)(n.figure,{children:["\n",(0,r.jsx)(n.img,{src:"./images/sg_vm_create=GUID-06736ADD-2404-4D11-91BB-BB00DA0DD3DA=1=en-us=Low.webp"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["Select ",(0,r.jsx)(n.strong,{children:"Deploy a virtual machine from an OVF or OVA file"})," and click ",(0,r.jsx)(n.strong,{children:"Next"}),"."]}),"\n",(0,r.jsxs)(n.figure,{children:["\n",(0,r.jsx)(n.img,{src:"./images/sg_vm_select_ova=GUID-72369919-3141-4686-8F62-EFB0853F4318=1=en-us=Low.webp"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["Specify a name for the Service Gateway virtual appliance, select the OVA file, and click ",(0,r.jsx)(n.strong,{children:"Next"}),"."]}),"\n",(0,r.jsxs)(n.figure,{children:["\n",(0,r.jsx)(n.img,{src:"./images/sg_vm_select_ova_2=GUID-8E57A89C-0244-4A07-BFFF-682E3774ACDB=1=en-us=Low.webp"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["Select the disk location and click ",(0,r.jsx)(n.strong,{children:"Next"}),"."]}),"\n",(0,r.jsxs)(n.figure,{children:["\n",(0,r.jsx)(n.img,{src:"./images/sg_vm_select_storage=GUID-B13DF9B6-E3F6-4536-B466-D084D5FFA8DA=1=en-us=Low.webp"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["Specify deployment options and click ",(0,r.jsx)(n.strong,{children:"Next"}),"."]}),"\n",(0,r.jsxs)(n.figure,{children:["\n",(0,r.jsx)(n.img,{src:"./images/sg_vm_deployment_options=GUID-08C567AB-E66C-4518-93ED-F8FCD8265316=1=en-us=Low.webp"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["Review the settings and click ",(0,r.jsx)(n.strong,{children:"Finish"}),"."]}),"\n",(0,r.jsxs)(n.figure,{children:["\n",(0,r.jsx)(n.img,{src:"./images/sg_vm_complete=GUID-A088E072-4691-4457-812E-E4CA1B37257F=1=en-us=Low.webp"}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["Click ",(0,r.jsx)(n.strong,{children:"Power on"})," to start the virtual machine."]}),"\n",(0,r.jsx)(n.p,{children:"Service installation during the first launch of the appliance takes approximately 10 minutes."}),"\n",(0,r.jsxs)(n.figure,{children:["\n",(0,r.jsx)(n.img,{src:"./images/sg_vm_power_on=GUID-CBB4B415-9892-45E4-AACB-062CBC086899=1=en-us=Low.webp"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["After the service installation has completed, press the ",(0,r.jsx)(n.code,{children:"ENTER"})," key to open the Command Line Interface (CLI) of the Service Gateway virtual appliance."]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Sign in using the default credentials."}),"\n",(0,r.jsx)(n.p,{children:"User name: admin"}),"\n",(0,r.jsx)(n.p,{children:"Password: V1SG@2021"}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Change your password."}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["Type ",(0,r.jsx)(n.code,{children:"enable"})," and press the ",(0,r.jsx)(n.code,{children:"ENTER"})," key to enable administrative commands. Provide your password when asked."]}),"\n",(0,r.jsx)(n.p,{children:"The command prompt changes from > to #."}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Configure the required network settings using the following CLISH commands."}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.code,{children:"Configure network primary ipv4.static <interface> <ip_cidr> <gateway> <dns1> [dns2] [cni] "})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.code,{children:"Configure static IPv4 network settings for the primary network interface"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.code,{children:"<interface>: Name of the network interface (for example, eth0)"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.code,{children:"<ip_cidr>: IPv4 address of the network interface in CIDR notation"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.code,{children:"<gateway>: Gateway router address"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.code,{children:"<dns1>: Primary DNS server address"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.code,{children:"[dns2]: Secondary DNS server address"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.code,{children:"[cni]: Internal network address pool (IP address ending in .0.0)"})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"To register the Service Gateway virtual appliance to Trend Vision One, use an SSH tool, such as the latest version of PuTTY, and using an account with administrator privileges, type the following command."}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.code,{children:"register <registration_token>"})}),"\n",(0,r.jsx)(n.p,{children:"You can obtain the token from the same screen you download the virtual appliance on Trend Vision One (step 3)."}),"\n",(0,r.jsx)(n.admonition,{title:"Important",type:"warning",children:(0,r.jsx)(n.p,{children:"The virtual appliance only supports UTC time. Ensure your hypervisor is correctly configured."})}),"\n",(0,r.jsx)(n.admonition,{type:"note",children:(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"If your environment uses a local Network Time Protocol (NTP) server, make sure the NTP server synchronizes with the local time for successful registration."}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Trend Micro recommends using an SSH client to easily copy and paste the registration token."}),"\n"]}),"\n"]})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Use the CLI to configure other settings, if required."}),"\n",(0,r.jsxs)(n.p,{children:["For more information on available commands, see ",(0,r.jsx)(n.a,{href:"service-gateway-cli-commands.md",children:"Service Gateway CLI commands"}),"."]}),"\n"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}}}]);