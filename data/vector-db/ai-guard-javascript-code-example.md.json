[
  {
    "id": "ai-guard-javascript-code-example.md_chunk_0",
    "content": "/*<![CDATA[*/ $('#title').html($('meta[name=map-description]').attr('content')); /*]]>*/ Javascript code example An example of Javascript code for the Trend Vision One AI Guard integration. The following is an example of how to integrate AI Guard with your application. const fetch = require('node-fetch'); // Get your Trend Vision One API key from environment variable const apiKey = process.env.V1_API_KEY; if (!apiKey) { throw new Error('Missing V1_API_KEY environment variable'); } // User prompt stored in a variable const userPrompt = 'Explain the concept of machine learning in simple terms.'; // Prepare the request payload const payload = { guard: userPrompt, }; const headers = { 'Authorization': `Bearer ${apiKey}`, 'Content-Type': 'application/json', 'detailedResponse': 'false', // Optional: Set to true for more detailed responses }; const url = 'https://api.<region>.xdr.trendmicro.com/beta/aiSecurity/guard'; fetch(url, { method: 'POST', headers: headers, body: JSON.stringify(payload",
    "metadata": {
      "filename": "ai-guard-javascript-code-example.md",
      "filePath": "/Users/erik_olafson/kiro-projects/agentic-docs/agentic-docs-poc/ai-docs-poc/docs/ai-guard-javascript-code-example.md",
      "title": "Javascript code example",
      "category": "general",
      "tags": [
        "endpoint-security",
        "trend-vision-one"
      ],
      "lastIndexed": "2025-09-18T23:50:45.656Z",
      "heading": "",
      "chunkType": "partial",
      "chunkIndex": 0
    },
    "embedding": [
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      1,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      1,
      119,
      81,
      1000
    ]
  },
  {
    "id": "ai-guard-javascript-code-example.md_chunk_1",
    "content": "), }) .then(async response => { let unsafe = false; const action = response.headers.get('action'); if (action && action.toLowerCase() === 'block') { unsafe = true; } console.log('Unsafe:', unsafe); if (!unsafe) { // Call OpenAI API (replace with your actual API key) const openaiApiKey = process.env.OPENAI_API_KEY; if (!openaiApiKey) { throw new Error('Missing OPENAI_API_KEY environment variable'); } const openaiPayload = { model: 'gpt-4', messages: [ { role: 'user', content: userPrompt } ], max_tokens: 150, temperature: 0.7 }; const openaiResp = await fetch('https://api.openai.com/v1/chat/completions', { method: 'POST', headers: { 'Authorization': `Bearer ${openaiApiKey}`, 'Content-Type': 'application/json' }, body: JSON.stringify(openaiPayload) }); const openaiResult = await openaiResp.json(); // Send OpenAI response to TrendMicro endpoint const guardResp = await fetch(url, { method: 'POST', headers: headers, body: JSON.stringify(openaiResult) }); const guardAction = guardResp.headers",
    "metadata": {
      "filename": "ai-guard-javascript-code-example.md",
      "filePath": "/Users/erik_olafson/kiro-projects/agentic-docs/agentic-docs-poc/ai-docs-poc/docs/ai-guard-javascript-code-example.md",
      "title": "Javascript code example",
      "category": "general",
      "tags": [
        "endpoint-security",
        "trend-vision-one"
      ],
      "lastIndexed": "2025-09-18T23:50:45.656Z",
      "heading": "",
      "chunkType": "partial",
      "chunkIndex": 1
    },
    "embedding": [
      0,
      1,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      1,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      108,
      67,
      1000
    ]
  },
  {
    "id": "ai-guard-javascript-code-example.md_chunk_2",
    "content": ".get('action'); if (guardAction && guardAction.toLowerCase() === 'block') { console.log('LLM response is considered unsafe. No response will be shown.'); process.exit(0); } // Print the LLM response (extracting the text) if (openaiResult.choices && openaiResult.choices.length > 0) { console.log(openaiResult.choices[0].message.content); } } else { console.log('User prompt is considered unsafe. No response will be generated.'); process.exit(0); } }) .catch(error => { console.error('Error:', error); }); Â© 2025 Trend Micro Incorporated. All rights reserved.Search Knowledge Base",
    "metadata": {
      "filename": "ai-guard-javascript-code-example.md",
      "filePath": "/Users/erik_olafson/kiro-projects/agentic-docs/agentic-docs-poc/ai-docs-poc/docs/ai-guard-javascript-code-example.md",
      "title": "Javascript code example",
      "category": "general",
      "tags": [
        "endpoint-security",
        "trend-vision-one"
      ],
      "lastIndexed": "2025-09-18T23:50:45.656Z",
      "heading": "",
      "chunkType": "partial",
      "chunkIndex": 2
    },
    "embedding": [
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      1,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      63,
      40,
      580
    ]
  }
]