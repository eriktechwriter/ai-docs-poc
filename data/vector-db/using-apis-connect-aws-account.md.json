[
  {
    "id": "using-apis-connect-aws-account.md_chunk_0",
    "content": "/*<![CDATA[*/ $('#title').html($('meta[name=map-description]').attr('content')); /*]]>*/ Using APIs to connect an AWS account Use the APIs on the Trend Vision One Automation Center to connect your AWS account. You can use the APIs available on the Trend Vision One Automation Center to connect your AWS account, and retrieve the CloudFormation stack template from Cloud Accounts. The stack template created by the Cloud Accounts app contains a token used to activate certain features after deployment. The token is designed to expire, requiring you to periodically regenerate the CloudFormation stack template to get an updated token. The features which require a token are: Cloud Detections for AWS CloudTrail Agentless Vulnerability & Threat Detection For organizations that require a static template that does not expire, use the token API to generate a token which can be added into the CloudFormation template. You can access the token API from the automation center.",
    "metadata": {
      "filename": "using-apis-connect-aws-account.md",
      "filePath": "/Users/erik_olafson/kiro-projects/agentic-docs/agentic-docs-poc/ai-docs-poc/docs/using-apis-connect-aws-account.md",
      "title": "Using APIs to connect an AWS account",
      "category": "general",
      "tags": [
        "endpoint-security",
        "trend-vision-one"
      ],
      "lastIndexed": "2025-09-18T23:50:47.340Z",
      "heading": "",
      "chunkType": "partial",
      "chunkIndex": 0
    },
    "embedding": [
      0,
      0,
      0,
      0,
      0,
      1,
      1,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      1,
      0,
      0,
      0,
      1,
      0,
      0,
      131,
      70,
      972
    ]
  },
  {
    "id": "using-apis-connect-aws-account.md_chunk_1",
    "content": "Important Currently only the XDR for Cloud - AWS CloudTrail feature supports the token. You cannot use the static template for Agentless Vulnerability & Threat Detection. The Token API is only required if Cloud Detections for AWS CloudTrail is enabled.. The user role assigned to the Token API must have full permissions to add, delete, and edit Cloud Accounts. For more information about user roles, see User Roles. The steps are valid for the AWS console as of January 2024. The following steps cover using the AWS console to upload the stack template. If you use an API to upload templates to your AWS account, follow your normal procedures and use the suggested configurations contained in these steps. Procedure Generate and download the stack template from Cloud Accounts. Access the Trend Vision One console and create the template. In the Trend Vision One console, go to Cloud Security → Cloud Accounts → AWS Click Add Account.",
    "metadata": {
      "filename": "using-apis-connect-aws-account.md",
      "filePath": "/Users/erik_olafson/kiro-projects/agentic-docs/agentic-docs-poc/ai-docs-poc/docs/using-apis-connect-aws-account.md",
      "title": "Using APIs to connect an AWS account",
      "category": "general",
      "tags": [
        "endpoint-security",
        "trend-vision-one"
      ],
      "lastIndexed": "2025-09-18T23:50:47.340Z",
      "heading": "",
      "chunkType": "partial",
      "chunkIndex": 1
    },
    "embedding": [
      1,
      0,
      0,
      0,
      0,
      1,
      1,
      0,
      0,
      0,
      3,
      0,
      0,
      0,
      1,
      0,
      0,
      0,
      0,
      0,
      0,
      136,
      74,
      935
    ]
  },
  {
    "id": "using-apis-connect-aws-account.md_chunk_2",
    "content": "On the Deployment Type screen, select CloudFormation and Single AWS Account. Click Next. Specify the Account name, Description, and select the AWS region for deployment. If you have more than one Server & Workload Protection Manager instance, select the instance to associate with the connected account and click Next. On the Features and Permissions screen, enable Cloud Detections for AWS CloudTrail and click Next. Click Download and Review Template. Note The Account Name and Description fields are not exported to the review template. These parameters are provided in a later step. Call an API to retrieve the template. Locate the Get AWS CloudFormation template API on the automation center. Locate the query_params strings. For awsRegion, provide the AWS region where you want to deploy the stack template and Core Features. The default region is based on your Trend Vision One region. For features, list the features you want to enable.",
    "metadata": {
      "filename": "using-apis-connect-aws-account.md",
      "filePath": "/Users/erik_olafson/kiro-projects/agentic-docs/agentic-docs-poc/ai-docs-poc/docs/using-apis-connect-aws-account.md",
      "title": "Using APIs to connect an AWS account",
      "category": "general",
      "tags": [
        "endpoint-security",
        "trend-vision-one"
      ],
      "lastIndexed": "2025-09-18T23:50:47.340Z",
      "heading": "",
      "chunkType": "partial",
      "chunkIndex": 2
    },
    "embedding": [
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      1,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      2,
      0,
      0,
      135,
      71,
      944
    ]
  },
  {
    "id": "using-apis-connect-aws-account.md_chunk_3",
    "content": "For featureAwsRegions, specify the regions to deploy resources for certain features. This field is required for features such as Agentless Vulneratibility & Threat Detection and Containter Protection for Amazon ECS. Some features have limited region support. For more information, see AWS supported regions and limitations. Save your changes and call the API. The API returns the following: templateUrl: The URL to download the template. visionOneOidcProviderUrl: A required parameter for deploying the template. createStackUrl: URL of the AWS CloudFormation console pointing to the CloudFormation template of Trend Vision One. Download the template. If you need to deploy a static template, call the Token API. The API returns the values bootstrapToken and visionOneApiKey. Locate the template file and open it in a text editor. Locate the Parameters resource immediately following the Outputs resource and provide values for the required parameters.",
    "metadata": {
      "filename": "using-apis-connect-aws-account.md",
      "filePath": "/Users/erik_olafson/kiro-projects/agentic-docs/agentic-docs-poc/ai-docs-poc/docs/using-apis-connect-aws-account.md",
      "title": "Using APIs to connect an AWS account",
      "category": "general",
      "tags": [
        "endpoint-security",
        "trend-vision-one"
      ],
      "lastIndexed": "2025-09-18T23:50:47.340Z",
      "heading": "",
      "chunkType": "partial",
      "chunkIndex": 3
    },
    "embedding": [
      0,
      0,
      0,
      0,
      0,
      1,
      1,
      1,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      123,
      71,
      951
    ]
  },
  {
    "id": "using-apis-connect-aws-account.md_chunk_4",
    "content": "Replace the explanation strings within the brackets {} with the required values. Parameter Value CloudAccountDescription Specify a description which displays in the Cloud Accounts app CloudAccountName Specify the account name which displays in the Cloud Accounts app CloudAuditLogMonitoringCloudTrailSNSTopicArn The ARN of the CloudTrail SNS topic to monitor This is required only if you enabled the Cloud Detections for AWS CloudTrail feature. Otherwise, leave empty. CloudAuditLogMonitoringCloudTrailArn The ARN of the CloudTrail to monitor This is required only if you enabled the Cloud Detections for AWS CloudTrail feature. Otherwise, leave empty. OrganizationID Leave empty for connecting a single account. ServerWorkloadProtectionManager The ID of the Server & Workload Protection instance to associate with the AWS account If you have provisioned at least one Server & Workload Protection, you must provide this value.",
    "metadata": {
      "filename": "using-apis-connect-aws-account.md",
      "filePath": "/Users/erik_olafson/kiro-projects/agentic-docs/agentic-docs-poc/ai-docs-poc/docs/using-apis-connect-aws-account.md",
      "title": "Using APIs to connect an AWS account",
      "category": "general",
      "tags": [
        "endpoint-security",
        "trend-vision-one"
      ],
      "lastIndexed": "2025-09-18T23:50:47.340Z",
      "heading": "",
      "chunkType": "partial",
      "chunkIndex": 4
    },
    "embedding": [
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      2,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      109,
      55,
      926
    ]
  },
  {
    "id": "using-apis-connect-aws-account.md_chunk_5",
    "content": "The value is the following JSON string encoded in base64: [{\"name\":\"workload\", \"instanceIds\":[\"<instance id>\"]}] The instance id can be found in the Product Instance app. For example, if the instance id is 123: The JSON string is [{\"name\":\"workload\", \"instanceIds\":[\"123\"]}] The base64 string to provide for this parameter is: W3sibmFtZSI6Indvcmtsb2FkIiwgImluc3RhbmNlSWRzIjpbIjEyMyJdfV0= VisionOneAPIKey Specify the API Key to invoke Cloud Accounts If you are using the Token API, paste the visionOneApiKey returned by the API. Otherwise, use your account API Key. Make sure the user account associated with the API Key has full permissions for Cloud Accounts. VisionOneAccountID Your Trend Vision One business ID VisionOneOIDCProviderURL cloudaccounts-{region}.visionone.trendmicro.com Replace {region} with one of the region values: us, eu, au, sg, in, jp Note If you used an API to retrieve the template, the API returns the value as visionOneOidcProviderUrl.",
    "metadata": {
      "filename": "using-apis-connect-aws-account.md",
      "filePath": "/Users/erik_olafson/kiro-projects/agentic-docs/agentic-docs-poc/ai-docs-poc/docs/using-apis-connect-aws-account.md",
      "title": "Using APIs to connect an AWS account",
      "category": "general",
      "tags": [
        "endpoint-security",
        "trend-vision-one"
      ],
      "lastIndexed": "2025-09-18T23:50:47.340Z",
      "heading": "",
      "chunkType": "partial",
      "chunkIndex": 5
    },
    "embedding": [
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      1,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      114,
      65,
      962
    ]
  },
  {
    "id": "using-apis-connect-aws-account.md_chunk_6",
    "content": "VisionOneRegion The region of your Trend Vision One deployment Use one of the values: us, eu, au, sg, in, jp If you are using a static template, provide the parameters returned by the Token API Locate the resource customExchangeToken and go to the properties section. Locate the property VisionOneBootstrapToken and replace the value with the bootstrapToken value generated by the Token API. Locate the property VisionOneAPIKey and replace the value with the visionOneApiKey value generated by the Token API. Save your changes to the template file. Access the Amazon CloudFormation console and go to Stacks. Click Create Stack. If prompted, select With new resources (standard). In the Create stack screen, select Template is ready. For Template source, select Upload a tempate file then click Choose file to upload the template. Click Next. Configure the Specify stack details screen. If you want to use a name other than the default, specify a new Stack name.",
    "metadata": {
      "filename": "using-apis-connect-aws-account.md",
      "filePath": "/Users/erik_olafson/kiro-projects/agentic-docs/agentic-docs-poc/ai-docs-poc/docs/using-apis-connect-aws-account.md",
      "title": "Using APIs to connect an AWS account",
      "category": "general",
      "tags": [
        "endpoint-security",
        "trend-vision-one"
      ],
      "lastIndexed": "2025-09-18T23:50:47.340Z",
      "heading": "",
      "chunkType": "partial",
      "chunkIndex": 6
    },
    "embedding": [
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      1,
      0,
      0,
      0,
      1,
      0,
      0,
      127,
      67,
      961
    ]
  },
  {
    "id": "using-apis-connect-aws-account.md_chunk_7",
    "content": "In the Parameters section, verify the following parameters are correct. CloudAuditLogMonitoringCloudTrailArn CloudAuditLogMonitoringCloudTrailSNSTopicArn Important Do not change any other settings in the Parameters section. CloudFormation automatically provides the settings for the parameters. Changing parameters might cause stack creation to fail. Click Next. Configure the Configure stack options as needed for your organization needs, then click Next. In the Review screen, select the options under Capabilities. I acknowledge that AWS CloudFormation might create IAM resources with custom names. I acknowledge that AWS CloudFormation might require the following capability: CAPABILITY_AUTO_EXPAND. Click Submit. The Stack details screen for the new stack appears with the Events tab displayed. Creation might take a few minutes. Click Refresh to check the progress. © 2025 Trend Micro Incorporated. All rights reserved.Search Knowledge Base",
    "metadata": {
      "filename": "using-apis-connect-aws-account.md",
      "filePath": "/Users/erik_olafson/kiro-projects/agentic-docs/agentic-docs-poc/ai-docs-poc/docs/using-apis-connect-aws-account.md",
      "title": "Using APIs to connect an AWS account",
      "category": "general",
      "tags": [
        "endpoint-security",
        "trend-vision-one"
      ],
      "lastIndexed": "2025-09-18T23:50:47.340Z",
      "heading": "",
      "chunkType": "partial",
      "chunkIndex": 7
    },
    "embedding": [
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      115,
      74,
      946
    ]
  }
]