---
slug: trend-vision-one-launching-vns-instance-google-cloud
title: Launching a Virtual Network Sensor instance on Google Cloud
last_updated: '2025-09-08'
ai_context:
  source_file: launching-vns-instance-google-cloud.md
  conversion_date: '2025-09-08T23:42:16.521Z'
conversion_status: converted
translation_ready: true
---

::::: {role="main"}
Deploy the Virtual Network Sensor on your Google Cloud environment.

If your security environment uses a hybrid deployment, or you do not have VMware or Microsoft Hyper-V in your environment, you can leverage your Google Cloud projects to deploy a Virtual Network Sensor instance.

:::note

The steps contained in these instructions are valid as of July 2024.
:::

Before you begin, make sure you have completed the following tasks:

- Choose or create a VPC and subnet for the Virtual Network Sensor management port.

- Choose or create a VPC and subnet for the Virtual Network Sensor data port.

  Trend Micro recommends assigning the Virtual Network Sensor data port to a different VPC than the mirror source VM.

:::warning[Important]

The Virtual Network Sensor data port and management port must be on separate VPCs. Assigning the ports to the same VPC causes deployment to fail.

Additionally, the subnets must have different IP ranges and CIDR address.
:::

### Procedure {#procedure}

1.  Sign in to Google Cloud.

2.  In a separate tab, access the Trend Vision One console and go to **Network Security → Network Inventory → Virtual Network Sensor**.

3.  Click **Deploy Virtual Network Sensor**.

    The **Virtual Network Sensor Deployment** panel appears.

4.  Select **Google Cloud** for the platform.

5.  Set the **Admin password** and confirm the password.

    The password must contain the following:

    - 12 to 32 characters

    - Both uppercase and lowercase characters

    - At least one number (0-9)

    - At least one special character: ~!\`@#$%^&\*()/\_+=\[\]{}-\\\<\>',.?:;" or space

    :::note

    This step is used to set the default admin password to access the Virtual Network Sensor command line interface after deployment.
    :::

6.  Select the **Connection method**.

    - **Direct connection**: the Virtual Network Sensor connects to Trend Vision One directly. Make sure the Virtual Network Sensor is able to connect to the internet when using this configuration.

    - **Connect using a custom proxy**: the Virtual Network Sensor connects to Trend Vision One through a third-party proxy. After choosing this method, configure the following fields:

      - **Proxy address**: Specify the IP address of the proxy.

      - **Proxy port**: Specify the connecting port of the proxy.

      - **Proxy server requires authentication**: (Optional) Select if the proxy requires authentication credentials.

      - **User name**: Specify the user name for the proxy credentials.

      - **Password**: Specify the password for the proxy credentials.

    - **Connect using a Service Gateway as proxy**: the Virtual Network Sensor connects to Trend Vision One through a Service Gateway. Select a Service Gateway to use for this method.

      :::warning[Important]

      The Virtual Network Sensor must be able to connect to a Service Gateway with the Forward Proxy Service configured and enabled. For more information, see [Manage services in Service Gateway](managing-services-service-gateway.mdx).
      :::

7.  Click **Generate Metadata Token**.

    The metadata token contains important information for the Virtual Network Sensor including the configured admin password and information that allows the Virtual Network Sensor to connect and on-board with Network Inventory automatically.

8.  Click the copy icon (![](/images/copy-icon-white=GUID-4dd3be76-c23d-48ed-8bbe-ae27229acb0e.webp)) to copy the metadata token.

    :::warning[Important]

    Trend Vision One does not save your password information or the metadata token. Once you close the deployment panel, the information is discarded and cannot be retrieved. If you lose the password or metadata token, you must generate a new one.
    :::

9.  Click **Go to Google Cloud Marketplace.**

    The Google Cloud Marketplace opens in a new tab with the **Trend Vision One™ XDR for Networks** page displayed.

    If the tab does not open, access the Google Cloud Marketplace from your Google Cloud account and search for **Trend Vision One™ XDR for Networks**.

10. Click **Launch**.

    The deployment screen appears with the **Terraform** tab open.

11. Specify a unique **Deployment name**.

12. Select the **Deployment Service Account**.

    1.  Choose whether you want to use an **existing account** or create a **new account** to deploy the Virtual Network Sensor.

        :::warning[Important]

        The deployment service account must have the following roles:

        - roles/config.agent

        - roles/compute.admin

        - roles/iam.serviceAccountUser
        :::

        If you select **Existing account**, a list of available Service Accounts which have the required roles appears. Select the Service Account you want to use.

    2.  Select **Zonal** or **Regional**.

    3.  Select the Service Account **Location**.

        :::warning[Important]

        The selected location for the Service Account must be the same as the selected **Zone** in the **Machine Type** settings.
        :::

13. Configure the **Machine Type**.

    The follow steps detail the configuration Trend Micro recommends. If you wish to use an alternative setup, review the [system requirements](network-sensor-sys-reqs.mdx) to ensure adequate system performance.

    1.  Select **General purpose**.

    2.  For **Series**, select **N2**.

    3.  Select the **Machine type**.

        The Virtual Network Sensor has been tested with the following recommended instance types. For more information, see [Virtual Network Sensor system requirements](network-sensor-sys-reqs.mdx).

        **Virtual Network Sensor Sizing Table for Google Cloud**

        <table style="width:99%;">
        <colgroup>
        <col style="width: 33%" />
        <col style="width: 33%" />
        <col style="width: 33%" />
        </colgroup>
        <thead>
        <tr>
        <th><p>Throughput (Mbps)</p></th>
        <th><p>Machine Type</p></th>
        <th><p>Virtual Disk (GB)</p></th>
        </tr>
        </thead>
        <tbody>
        <tr>
        <td><p>100</p></td>
        <td><p>n2-standard-2</p></td>
        <td><p>50</p></td>
        </tr>
        <tr>
        <td><p>500</p></td>
        <td><p>n2-standard-4</p></td>
        <td><p>50</p></td>
        </tr>
        <tr>
        <td><p>1000</p></td>
        <td><p>n2-standard-8</p></td>
        <td><p>50</p></td>
        </tr>
        <tr>
        <td><p>2000</p></td>
        <td><p>n2-standard-8</p></td>
        <td><p>100</p></td>
        </tr>
        <tr>
        <td><p>5000</p></td>
        <td><p>n2-standard-16</p></td>
        <td><p>150</p></td>
        </tr>
        <tr>
        <td><p>10000</p></td>
        <td><p>n2-standard-32</p></td>
        <td><p>200</p></td>
        </tr>
        </tbody>
        </table>

    4.  Select the **Zone** to deploy the machine.

        This must be the same location you selected for the Service Account.

14. Configure the **Boot Disk**.

    1.  Select the **Disk Size** according to the sizing table in the previous step.

    2.  For **Disk Type**, select **SSD Persistent Disk**.

15. Configure the **Networking** settings.

    :::warning[Important]

    The Virtual Network Sensor data port and management port must be on separate VPCs. Assigning the ports to the same VPC causes deployment to fail.

    Additionally, the subnets must have different IP ranges and CIDR address.
    :::

    1.  Click the first **Network interfaces** field to edit settings for the data port.

    2.  For **Network**, select the VPC you want to assign to the Virtual Network Sensor data port.

    3.  Select the **Subnetwork**.

    4.  Click **Done**.

    5.  Click the second **Network interfaces** field to edit settings for the management port.

    6.  For **Network**, select the VPC you want to assign to the Virtual Network Sensor management port.

    7.  Select the **Subnetwork**.

    8.  For **External IP**, choose whether you want the management port to have an external facing IP address.

        :::warning[Important]

        The Virtual Network Sensor uses the management port to connect to Trend Vision One. If you choose not to use an external IP address, you must set up Network Services/Cloud NAT to allow the management port to connect to the internet.
        :::

    9.  Click **Done**.

16. Paste the metadata token you copied into the **Metadata** field.

17. Click **Deploy**.

    The Virtual Network Sensor begins the deployment process. Deployment may take a few minutes. After deployment successfully finishes, the Virtual Network Sensor automatically connects and registers to Trend Vision One. You can verify the connection by going to **Network Security → Network Inventory → Virtual Network Sensor**

    After deployment successfully finishes, you must set up traffic mirroring in your Google Cloud environment. You can use your own mirroring solution, or, to follow the steps recommended by Trend Micro, see [Configuring traffic mirroring on Google Cloud](traffic-mirroring-google-cloud.mdx).
:::::
