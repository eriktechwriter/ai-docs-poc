---
slug: trend-vision-one-upgrade-helm-cloud-one
title: Upgrade Helm chart from Trend Cloud One to Trend Vision One
last_updated: '2025-09-08'
ai_context:
  source_file: upgrade-helm-cloud-one.md
  conversion_date: '2025-09-08T23:42:11.738Z'
conversion_status: converted
translation_ready: true
---

::::: {role="main"}
Container Inventory clusters that use `cloudone-container-security-helm` must be upgraded to use `visionone-container-security-helm`. Starting with version 3.0.0, Helm chart is also in a new location in GitHub: <https://github.com/trendmicro/visionone-container-security-helm>.

:::warning[Important]

This Helm chart upgrade does not work if any of your Container Protection policies include Block actions. Change your policies to Log actions before you upgrade Helm.
:::

### Update firewall exceptions {#update-firewall-exceptions}

Before you upgrade your clusters, you must add and remove the following firewall exceptions. These updated exceptions can also be seen in [Firewall exception requirements for Trend Vision One](firewall-exception-requirements-for.mdx).

<table style="width:99%;">
<colgroup>
<col style="width: 33%" />
<col style="width: 33%" />
<col style="width: 33%" />
</colgroup>
<thead style="text-align: left;">
<tr>
<th>Region</th>
<th>Add new exceptions</th>
<th>Remove outdated exceptions</th>
</tr>
</thead>
<tbody style="text-align: left;">
<tr>
<td>Americas</td>
<td><ul>
<li>api.xdr.trendmicro.com</li>
</ul></td>
<td><ul>
<li>container.us-1.cloudone.trendmicro.com</li>
<li>telemetry.deepsecurity.trendmicro.com</li>
</ul></td>
</tr>
<tr>
<td>India</td>
<td><ul>
<li>api.in.xdr.trendmicro.com</li>
</ul></td>
<td><ul>
<li>container.in-1.cloudone.trendmicro.com</li>
<li>telemetry.deepsecurity.trendmicro.com</li>
</ul></td>
</tr>
<tr>
<td>Singapore</td>
<td><ul>
<li>api.sg.xdr.trendmicro.com</li>
</ul></td>
<td><ul>
<li>container.sg-1.cloudone.trendmicro.com</li>
<li>telemetry.deepsecurity.trendmicro.com</li>
</ul></td>
</tr>
<tr>
<td>Australia</td>
<td><ul>
<li>api.au.xdr.trendmicro.com</li>
</ul></td>
<td><ul>
<li>container.au-1.cloudone.trendmicro.com</li>
<li>telemetry.deepsecurity.trendmicro.com</li>
</ul></td>
</tr>
<tr>
<td>Japan</td>
<td><ul>
<li>api.xdr.trendmicro.co.jp</li>
</ul></td>
<td><ul>
<li>container.jp-1.cloudone.trendmicro.com</li>
<li>telemetry.deepsecurity.trendmicro.com</li>
</ul></td>
</tr>
<tr>
<td>Europe</td>
<td><ul>
<li>api.eu.xdr.trendmicro.com</li>
</ul></td>
<td><ul>
<li>container.eu-1.cloudone.trendmicro.com</li>
<li>telemetry.deepsecurity.trendmicro.com</li>
</ul></td>
</tr>
<tr>
<td>Middle East and Africa</td>
<td><ul>
<li>api.mea.xdr.trendmicro.com</li>
</ul></td>
<td><ul>
<li>container.mea-1.cloudone.trendmicro.com</li>
<li>telemetry.deepsecurity.trendmicro.com</li>
</ul></td>
</tr>
</tbody>
</table>

### Upgrade manually registered clusters {#upgrade-manually-registered-clusters}

Users with manually registered clusters can upgrade from the Trend Vision One console.

:::note

To check to see if any clusters require an upgrade from the console, navigate to **Cloud Security → Container Inventory → Kubernetes**. A warning message is displayed for any clusters that require an upgrade.
:::

1.  From the console, follow the **How to upgrade** modal instructions.

    If you don't have the Helm chart values you used during initial installation, you can retrieve them with the following command:

    ``` codeblock
    helm get values --namespace trendmicro-system trendmicro  -o yaml
    ```

2.  Replace the following values:

    ``` codeblock
    cloudOne:
        apiKey: <your api key>
        endpoint: <endpoint>
    ```

    With the new Trend Vision One values:

    ``` codeblock
    visionOne:
      bootstrapToken: <new bootstrap token>
      endpoint: <new endpoint>
    ```

    - `bootstrapToken`: This value replaces the `apiKey`. The bootstrap token is automatically generated when you click **How to upgrade**.

      :::note

      If the token is not used within 24 hours, it expires, but a new token can be generated by clicking **How to upgrade** again.
      :::

      After upgrading, the token is automatically renewed by Container Security components.
    - `endpoint`: Updated to a new URL in the console.

3.  Run the following command to upgrade:

    ``` codeblock
    helm upgrade \
        trendmicro \
        --namespace trendmicro-system \
        --values overrides.yaml \
        https://github.com/trendmicro/visionone-container-security-helm/archive/main.tar.gz
    ```

### Upgrade automatically registered clusters {#upgrade-automatically-registered-clusters}

Users with automatically registered clusters most modify their overrides YAML file to upgrade.

1.  Open the overrides file (`overrides.yaml`) to be modified.

    If you don't have the Helm chart values you used during initial installation, you can retrieve them with the following command:

    ``` codeblock
    helm get values --namespace trendmicro-system trendmicro  -o yaml
    ```

2.  Replace the following endpoint value:

    ``` codeblock
    cloudOne:
        endpoint: <old endpoint>
    ```

    With the new Trend Vision One endpoint value in the table listed below, based on your region:

    ``` codeblock
    visionOne:
      endpoint: <new endpoint from the list above>  # Replace with the appropriate endpoint based on your region
    ```

    <table>
    <colgroup>
    <col style="width: 25%" />
    <col style="width: 75%" />
    </colgroup>
    <thead style="text-align: left;">
    <tr>
    <th>Region</th>
    <th><code>endpoint</code></th>
    </tr>
    </thead>
    <tbody style="text-align: left;">
    <tr>
    <td>Americas</td>
    <td><a href="https://api.xdr.trendmicro.com/external/v2/direct/vcs/external/vcs">https://api.xdr.trendmicro.com/external/v2/direct/vcs/external/vcs</a></td>
    </tr>
    <tr>
    <td>Europe</td>
    <td><a href="https://api.eu.xdr.trendmicro.com/external/v2/direct/vcs/external/vcs">https://api.eu.xdr.trendmicro.com/external/v2/direct/vcs/external/vcs</a></td>
    </tr>
    <tr>
    <td>Japan</td>
    <td><a href="https://api.xdr.trendmicro.co.jp/external/v2/direct/vcs/external/vcs">https://api.xdr.trendmicro.co.jp/external/v2/direct/vcs/external/vcs</a></td>
    </tr>
    <tr>
    <td>Australia</td>
    <td><a href="https://api.au.xdr.trendmicro.com/external/v2/direct/vcs/external/vcs">https://api.au.xdr.trendmicro.com/external/v2/direct/vcs/external/vcs</a></td>
    </tr>
    <tr>
    <td>India</td>
    <td><a href="https://api.in.xdr.trendmicro.com/external/v2/direct/vcs/external/vcs">https://api.in.xdr.trendmicro.com/external/v2/direct/vcs/external/vcs</a></td>
    </tr>
    <tr>
    <td>Singapore</td>
    <td><a href="https://api.sg.xdr.trendmicro.com/external/v2/direct/vcs/external/vcs">https://api.sg.xdr.trendmicro.com/external/v2/direct/vcs/external/vcs</a></td>
    </tr>
    <tr>
    <td>Middle East and Africa</td>
    <td><a href="https://api.mea.xdr.trendmicro.com/external/v2/direct/vcs/external/vcs">https://api.mea.xdr.trendmicro.com/external/v2/direct/vcs/external/vcs</a></td>
    </tr>
    </tbody>
    </table>

3.  Run the following command to upgrade:

    ``` codeblock
    helm upgrade \
        trendmicro \
        --namespace trendmicro-system \
        --values overrides.yaml \
        https://github.com/trendmicro/visionone-container-security-helm/archive/main.tar.gz
    ```
:::::
