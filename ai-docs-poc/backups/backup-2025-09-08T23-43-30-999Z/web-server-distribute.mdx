---
slug: trend-vision-one-web-server-distribute
title: Use a web server to distribute software updates
last_updated: '2025-09-08'
ai_context:
  source_file: web-server-distribute.md
  conversion_date: '2025-09-08T23:42:11.544Z'
conversion_status: converted
translation_ready: true
---

:::: {role="main"}
Agent software updates are normally hosted and distributed by relays. However, if you already have a web server, you can provide software updates via the web server instead of a relay. To do this, you must mirror the software repository of the relay on your web server.

:::note

Although agents can download their software updates from the web server, at least one relay is still required to distribute component package updates such as anti-malware and IPS signatures (see [Apply component updates](apply-security-updates.mdx)).
:::

## Web server requirements {#web-server-requirements}

*Disk Space:* 20 GB

*Ports:* [Web server port, relay port](swp-port-numbers.mdx)

## Copy the folder structure {#copy-the-folder-structure}

Mirror the folder structure of the software repository folder on a relay-enabled agent. Methods vary by platform and network. For example, you could use `rsync` over SSH for a Linux computer and network that allows SSH.

On Windows, the default location for the relay-enabled agent's software repository folder is:

`C:\ProgramData\Trend Micro\Deep Security Agent\relay\www\dsa\`

On Linux, the default location for the Relay's software repository folder is:

`/var/opt/ds_agent/relay/www/dsa/`

The structure of the folder is like this:

``` codeblock
|-- dsa
|    |-- <Platform>.<Architecture>
|         |--  <Filename>
|         |--  <Filename>
|         |--  ...
|        
|    |-- <Platform>.<Architecture>
|         |--  <Filename>
|         |--  <Filename>
|         |--  ...
```

For example:

``` codeblock
|-- dsa
|    |--  CentOS_<version>.x86_64
|         |--   Feature-AM-CentOS_<version>.x86_64.dsp
|         |--   Feature-DPI-CentOS_<version>.x86_64.dsp
|         |--   Feature-FW-CentOS_<version>.x86_64.dsp
|         |--   Feature-IM-CentOS_<version>.x86_64.dsp
|         |--  ...
|        
|    |--  RedHat_EL6.x86_64
|         |--   Agent-Core-RedHat_<version>.x86_64.rpm
|         |--   Feature-AM-RedHat_<version>.x86_64.dsp
|         |--   Feature-DPI-RedHat_<version>.x86_64.dsp
|         |--   Feature-FW-RedHat_<version>.x86_64.dsp
|         |--  ...
|         |--   Plugin-Filter_2_6_32_131_0_15_el6_x86_64-RedHat_<version>.x86_64.dsp
|         |--   Plugin-Filter_2_6_32_131_12_1_el6_x86_64-RedHat_<version>.x86_64.dsp
|         |--  ...
|        
|    |-- Windows.x86_64
|         |--  Agent-Core-Windows-<version>.x86_64.msi
|         |--  Agent-Core-Windows-<version>.x86_64.msi
|         |--  Feature-AM-Windows-<version>.x86_64.dsp
|         |--  Feature-AM-Windows-<version>.x86_64.dsp
|         |--  Feature-DPI-Windows-<version>.x86_64.dsp
|         |--  Feature-DPI-Windows-<version>.x86_64.dsp
|         |--  ...
|         |--  Plugin-Filter-Windows-<version>.x86_64.dsp
|         |--  Plugin-Filter-Windows-<version>.x86_64.dsp
|         |--  ...
```

The example above shows only a few files and folders. Inside a complete `dsa` folder, there are more. If you need to save disk space or bandwidth, you don't need to mirror all of them. You're only required to mirror the files that apply to your computers' platforms.

## Configure agents to use the new software repository {#configure-agents-to-use-the-new-software-repository}

When the mirror on the web server is complete, configure agents to get their software updates from your web server.

### Procedure {#procedure}

1.  In the Server & Workload Protection console, go to **Administration → System Settings → Updates**.

2.  In the Software Updates section, under *Alternate software update distribution server(s) to replace Deep Security Relays*, enter the URL(s) of the mirror folder(s) on your web server(s).

3.  Click *Save*.

    :::note

    Verify that connectivity between agents and your web server is reliable. If the connection is blocked, agents will instead use the relay.
    :::
::::
