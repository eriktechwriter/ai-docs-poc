---
slug: trend-vision-one-launching-ami-instance
title: Launching a Virtual Network Sensor AMI instance
---
# Launching a Virtual Network Sensor AMI instance

Use an Amazon Machine Image (AMI) to deploy a Virtual Network Sensor to your cloud environment.

If your security environment uses a hybrid deployment, or you do not have VMware or Microsoft Hyper-V in your environment, you can leverage your Amazon Web Services (AWS) accounts to deploy a Virtual Network Sensor using Amazon Machine Images (AMI).

:::note

The steps contained in these instructions are valid as of January 2024.
:::

Before you begin, make sure you have completed the following tasks:

- Choose or create a VPC for the Virtual Network Sensor instance.

- Choose or create the subnets for the Virtual Network Sensor data port and management port.

  Trend Micro recommends using different subnets for the data and management ports. For more information on how to set up a VPC and subnet, refer to the [Amazon documentation](https://docs.aws.amazon.com/index.mdx).

- [Create security groups](aws-security-groups-network-sensor.mdx) for the data port and management port.

### Procedure {#procedure}

1.  In the Trend Vision One console, go to **Network Security → Network Inventory → Virtual Network Sensor**.

2.  Click **Deploy Virtual Network Sensor**.

    The **Virtual Network Sensor Deployment** panel appears.

3.  Select **Amazon Web Services** for the platform.

4.  Set the **Admin password** and confirm the password.

    The password must contain the following:

    - 12 to 32 characters

    - Both uppercase and lowercase characters

    - At least one number (0-9)

    - At least one special character: ~!\`@#$%^&\*()/\_+=\[\]{}-\\\<\>',.?:;" or space

    :::note

    This step is used to set the default admin password to access the Virtual Network Sensor command line interface after deployment.
    :::

5.  Select the **Connection method**.

    - **Direct connection**: the Virtual Network Sensor connects to Trend Vision One directly. Make sure the Virtual Network Sensor is able to connect to the internet when using this configuration.

    - **Connect using a custom proxy**: the Virtual Network Sensor connects to Trend Vision One through a third-party proxy. After choosing this method, configure the following fields:

      - **Proxy address**: Specify the IP address of the proxy.

      - **Proxy port**: Specify the connecting port of the proxy.

      - **Proxy server requires authentication**: (Optional) Select if the proxy requires authentication credentials.

      - **User name**: Specify the user name for the proxy credentials.

      - **Password**: Specify the password for the proxy credentials.

    - **Connect using a Service Gateway as proxy**: the Virtual Network Sensor connects to Trend Vision One through a Service Gateway. Select a Service Gateway to use for this method.

      :::warning[Important]

      The Virtual Network Sensor must be able to connect to a Service Gateway with the Forward Proxy Service configured and enabled. For more information, see [Manage services in Service Gateway](managing-services-service-gateway.mdx).
      :::

6.  Select **Amazon Machine Image (AMI)** for the **Deployment method**.

7.  Click **Download Token** to download the token file.

    The token file contains important information for the Virtual Network Sensor including the configured admin password and information that allows the Virtual Network Sensor to connect and on-board with Network Inventory automatically.

    After downloading, you can click **Go to AWS Marketplace** to access the Virtual Network Sensor AMI in a new tab, where you can launch the instance directly from the marketplace. The following steps provide a guide to accessing the Virtual Network Sensor AMI through the EC2 console.

8.  In a new tab in the same browser session, sign in to the AWS Management Console.

9.  Locate the EC2 service and click the link to access the EC2 dashboard.

10. In the top navigation bar, select the **Region** for your instance.

    :::note

    The region can be set to any region you require the Virtual Network Sensor to be deployed. If you are unsure which region to select, use the default region for your AWS account.
    :::

11. Click **Launch instance**, then select **Launch instance**.

    The **Launch an instance** screen appears.

12. In the **Names and tags** section, provide a name or add tags to the instance.

    :::tip

    Adding tags helps with managing instances by providing a way to track ownership or locate resources associated with deployed instances.
    :::

13. In the **Application and OS Images (Amazon Machine Image)** section, find and select the Virtual Network Sensor AMI.

    1.  In the **Application and OS Images (Amazon Machine Image)** section, click **Browse more AMIs**.

        <figure>
        <img src="./images/AWS-01=GUID-735eadd6-073f-4dba-b329-04e0fbffedf5.webp" />
        </figure>

    2.  In the **Choose an Amazon Machine Image (AMI)** screen, select **AWS Marketplace AMIs** under the search bar.

        <figure>
        <img src="./images/VNS-AWSsearchAMI=GUID-ed44d40e-f927-43d0-b9c2-ec3a88ab1e86.webp" />
        </figure>

    3.  Search for **Trend Vision One**.

    4.  Find **Trend Vision One™ XDR for Networks (BYOL)** and click **Select**.

        ![](/images/TrendVisionOneXDRforNetworksAMI=GUID-c6226a43-230a-4b2f-842e-8c73198c55cb.webp)

    5.  Review the details and click **Continue**.

14. In the **Instance Type** section, select an instance that meets the specifications for your deployment.

    The Virtual Network Sensor has been tested with the following recommended instance types. For more information, see [Virtual Network Sensor system requirements](network-sensor-sys-reqs.mdx).

    <table>
    <colgroup>
    <col style="width: 50%" />
    <col style="width: 50%" />
    </colgroup>
    <thead>
    <tr>
    <th><p>Throughput (Mbps)</p></th>
    <th><p>Recommended Instance Type</p></th>
    </tr>
    </thead>
    <tbody>
    <tr>
    <td><p>100</p></td>
    <td><ul>
    <li><p>t3.large</p></li>
    <li><p>m5.large</p></li>
    </ul></td>
    </tr>
    <tr>
    <td><p>500</p></td>
    <td><ul>
    <li><p>t3.xlarge</p></li>
    <li><p>m5.xlarge</p></li>
    </ul></td>
    </tr>
    <tr>
    <td><p>1000</p></td>
    <td><ul>
    <li><p>t3.2xlarge</p></li>
    </ul></td>
    </tr>
    <tr>
    <td><p>2000</p></td>
    <td><ul>
    <li><p>m5.2xlarge</p></li>
    </ul></td>
    </tr>
    <tr>
    <td><p>5000</p></td>
    <td><ul>
    <li><p>m5.4xlarge</p></li>
    </ul></td>
    </tr>
    <tr>
    <td><p>10000</p></td>
    <td><ul>
    <li><p>m5.8xlarge</p></li>
    </ul></td>
    </tr>
    </tbody>
    </table>

15. In the **Key pair (login)** section, select **Proceed without a key pair**.

16. In the **Network settings** section, click **Edit** and configure the settings.

    1.  Configure the network deployment settings.

        - Select the **VPC** to use for the instance.

        - Select a **Subnet** to use for the Virtual Network Sensor data port.

        - Set the **Auto-assign Public IP** to **Disable**.

        :::warning[Important]

        Do not select "No preference" for the subnet.
        :::

    2.  Under **Firewall (security groups)**, select **Select existing security group**.

    3.  Do not select any **Common security groups**.

    4.  Expand the **Advanced network configuration** section.

        :::warning[Important]

        To comply with the AWS environment, the Virtual Network Sensor uses *Port 1 (eth1)* for the management port, and *Port 0 (eth0)* for the data port.

        For the following steps, *Port 0* is **Network interface 1**, and *Port 1* is **Network interface 2**.
        :::

    5.  Configure **Network interface 1** for the data port.

        - **Description**: Provide a description for the interface.

          Adding a clear description such as `Virtual Network Sensor Data Port` makes it easier to locate when configuring your AWS network settings after deployment.

        - **Subnet**: The subnet you selected previously for the data port.

        - **Security groups**: Select the security group for the data port.

        - **Primary IP**: Specify an IP address available on the subnet, or leave blank to have AWS automatically assign the IP address.

        ![](/images/AMI_DataPortSecGroup=GUID-419a2f9e-bc2c-421c-a4d8-68da2f94ce74.webp)

    6.  Click **Add network interface**.

    7.  Configure **Network interface 2** for the maintenance port.

        - **Description**: Provide a description for the interface.

          Adding a clear description such as `Virtual Network Sensor Management Port` makes it easier to locate when configuring your AWS network settings after deployment.

        - **Subnet**: Select the subnet for the maintenance port.

        - **Security groups**: Select the security group for the maintenance port.

        - **Primary IP**: Specify an IP address available on the subnet, or leave blank to have AWS automatically assign the IP address.

17. Use the **Configure storage** settings to specify the size of the root volume for your instance.

    Set the root volume size according to your throughput. For more information, see [Virtual Network Sensor system requirements](network-sensor-sys-reqs.mdx).

    <table>
    <colgroup>
    <col style="width: 50%" />
    <col style="width: 50%" />
    </colgroup>
    <thead>
    <tr>
    <th><p>Throughput (Mbps)</p></th>
    <th><p>Recommended Volume Size (GB)</p></th>
    </tr>
    </thead>
    <tbody>
    <tr>
    <td><p>100</p></td>
    <td rowspan="3"><p>50</p></td>
    </tr>
    <tr>
    <td><p>500</p></td>
    </tr>
    <tr>
    <td><p>1000</p></td>
    </tr>
    <tr>
    <td><p>2000</p></td>
    <td><p>100</p></td>
    </tr>
    <tr>
    <td><p>5000</p></td>
    <td><p>150</p></td>
    </tr>
    <tr>
    <td><p>10000</p></td>
    <td><p>200</p></td>
    </tr>
    </tbody>
    </table>

18. Expand the **Advanced details** section.

19. Locate **User data - optional** and click **Choose file**.

20. Select the token file you downloaded from Network Inventory.

21. Review the settings in the **Summary** panel and click **Launch instance**.

    Once you launch the instance, the Virtual Network Sensor begins installation. Installation may take a few minutes to complete. You can view the status of the instance in the EC2 console by going to **Instances → Instances**.

    The Virtual Network Appliance is ready to connect and configure when the **Instance state** is **Running** and the **Status check** shows **2/2 checks passed**.

22. Once the appliance is ready, configure your network settings based on your security environment needs.

    - [Configure traffic mirror settings](network-sensor-traffic-mirror.mdx).

    - [Configure a network load balancer](network-behind-load-balancer.mdx).
::::
