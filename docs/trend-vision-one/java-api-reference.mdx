---
slug: trend-vision-one-java-api-reference
title: Java API reference
---
# Java API reference

An API reference for the Java SDK for Trend Vision One™ File Security

### AMaasClient {#amaasclient}

AMaasClient class is the main class of the SDK and provides methods to use the AMaaS scanning services.

Create a new instance of the `AmaasClient` class and provision essential settings including authentication/authorization credentials (API key), for example the preferred service region.

```bash
public AMaasClient (String region, String apikey, long timeoutInSecs, boolean enabledTLS) throw AMaasException
```

**AMaaS Client Instance Parameters**

<table>
<colgroup>
<col style="width: 25%" />
<col style="width: 75%" />
</colgroup>
<thead style="text-align: left;">
<tr>
<th style="text-align: left;"><p>Parameter</p></th>
<th style="text-align: left;"><p>Description</p></th>
</tr>
</thead>
<tbody style="text-align: left;">
<tr>
<td style="text-align: left; vertical-align: top;"><p>region</p></td>
<td style="text-align: left; vertical-align: top;"><p>The region corresponding to your API key. The provided value must be one of the Trend Vision One regions:</p>
<ul>
<li><code>ap-northeast-1</code></li>
<li><code>ap-south-1</code></li>
<li><code>ap-southeast-1</code></li>
<li><code>ap-southeast-2</code></li>
<li><code>eu-central-1</code></li>
<li><code>us-east-1</code></li>
</ul></td>
</tr>
<tr>
<td style="text-align: left; vertical-align: top;"><p>apikey</p></td>
<td style="text-align: left; vertical-align: top;"><p>Your Trend Vision One API Key.</p></td>
</tr>
<tr>
<td style="text-align: left; vertical-align: top;"><p>timeoutInSecs</p></td>
<td style="text-align: left; vertical-align: top;"><p>Timeout, in seconds, to cancel the server connection. The default is 0 with a maximum of 180 seconds.</p></td>
</tr>
<tr>
<td style="text-align: left; vertical-align: top;"><p>enabledTLS</p></td>
<td style="text-align: left; vertical-align: top;"><p>Enable or disable TLS. TLS should always be enabled when connecting to the AMaaS server.</p></td>
</tr>
</tbody>
</table>

Return An AMaaS Client instance.

### Create instance {#create-instance}

Create a new instance of the `AmaasClient` class, and provisions essential settings, including authentication/authorization credentials (API key), preferred service region, etc. The enabledTLS is default to true.

```bash
public AMaasClient(String region, String apiKey, long timeoutInSecs) throws AMaasException
```

**AMaasClient Instance Parameters**

<table>
<colgroup>
<col style="width: 25%" />
<col style="width: 75%" />
</colgroup>
<thead style="text-align: left;">
<tr>
<th style="text-align: left;"><p>Parameter</p></th>
<th style="text-align: left;"><p>Description</p></th>
</tr>
</thead>
<tbody style="text-align: left;">
<tr>
<td style="text-align: left; vertical-align: top;"><p>region</p></td>
<td style="text-align: left; vertical-align: top;"><p>The region corresponding to your API key. The provided value must be one of the Trend Vision One regions:</p>
<ul>
<li><code>ap-northeast-1</code></li>
<li><code>ap-south-1</code></li>
<li><code>ap-southeast-1</code></li>
<li><code>ap-southeast-2</code></li>
<li><code>eu-central-1</code></li>
<li><code>us-east-1</code></li>
</ul></td>
</tr>
<tr>
<td style="text-align: left; vertical-align: top;"><p>apikey</p></td>
<td style="text-align: left; vertical-align: top;"><p>Your Trend Vision One API key</p></td>
</tr>
<tr>
<td style="text-align: left; vertical-align: top;"><p>timeoutInSecs</p></td>
<td style="text-align: left; vertical-align: top;"><p>Timeout, in seconds, to cancel the connection to the server. The default is 0 and the maximum is 180 seconds.</p></td>
</tr>
</tbody>
</table>

**Return** An AMaasClient instance

### Scan file {#scan-file}

Scan a file for malware and retrieves response data from the API.

```bash
public String scanFile(string fileName) throws AMaasException
```

**Parameters**

<table>
<colgroup>
<col style="width: 25%" />
<col style="width: 75%" />
</colgroup>
<thead style="text-align: left;">
<tr>
<th style="text-align: left;"><p>Parameter</p></th>
<th style="text-align: left;"><p>Description</p></th>
</tr>
</thead>
<tbody style="text-align: left;">
<tr>
<td style="text-align: left; vertical-align: top;"><p>fileName</p></td>
<td style="text-align: left; vertical-align: top;"><p>The name of the file with the file directory path containing the file to scan.</p></td>
</tr>
</tbody>
</table>

**Return** String the scanned result in JSON format.

### Scan buffer {#scan-buffer}

Scan a buffer for malware and retrieves response data from the API.

**public String scanBuffer(byte\[\] buffer, String identifier) throws AMaasException**

**Parameters**

<table>
<colgroup>
<col style="width: 25%" />
<col style="width: 75%" />
</colgroup>
<thead style="text-align: left;">
<tr>
<th style="text-align: left;"><p>Parameter</p></th>
<th style="text-align: left;"><p>Description</p></th>
</tr>
</thead>
<tbody style="text-align: left;">
<tr>
<td style="text-align: left; vertical-align: top;"><p>buffer</p></td>
<td style="text-align: left; vertical-align: top;"><p>The byte buffer to scan</p></td>
</tr>
<tr>
<td style="text-align: left; vertical-align: top;"><p>identifier</p></td>
<td style="text-align: left; vertical-align: top;"><p>A unique name to identify the buffer</p></td>
</tr>
</tbody>
</table>

**Return**String the scanned result in JSON format.

### AmaasScanResult {#amaasscanresult}

The AmaasScanResult has the data elements of the response data that is retrieved from the Trend Vision One™ API. The class has the following private members. Each of the members have getter and setter methods.

```bash
public class AmaasScanResult {
  private String version;               // API version
  private int scanResult;               // Number of malwares found. A value of 0 means no malware was found
  private String scanId;                // ID of the scan
  private String scanTimestamp;         // Timestamp of the scan in ISO 8601 format
  private String fileName:              // Name of the file scanned
  private MalwareItem[] foundMalwares;  // A list of malware names and the filenames found by AMaaS

  // getter and seter methods for the above private variables.
}
```

### MalwareItem {#malwareitem}

The MalwareItem contains a detected malware information in the response data that is retrieved from our API. The class has the following private members. There are getter and setter methods for each of the members.

```bash
public class MalwareItem {
  private String malwareName;           // A detected Malware name
  private String fileName:              // File name that the malware is detected.

  // getter and seter methods for the above private variables.
}
```

### AMaasException {#amaasexception}

The AMaasException class is the AMaaS SDK exception class.

```bash
public final class AMaasException extends Exception {
  private AMaasErrorCode erroCode;

  public AMaasException(AMaasErrorCode erroCode, Object... params) {
    ...
  }
}
```

### AMaasErrorCode {#amaaserrorcode}

AMaasErrorCode is a enum type containing all the error conditions thrown by the `AMaasException` class.

**Error Conditions**

<table>
<colgroup>
<col style="width: 17%" />
<col style="width: 33%" />
<col style="width: 50%" />
</colgroup>
<thead style="text-align: left;">
<tr>
<th style="text-align: left;"><p>Enum type</p></th>
<th style="text-align: left;"><p>Error message template</p></th>
<th style="text-align: left;"><p>Description</p></th>
</tr>
</thead>
<tbody style="text-align: left;">
<tr>
<td style="text-align: left; vertical-align: top;"><p>MSG_ID_ERR_INVALID_REGION</p></td>
<td style="text-align: left; vertical-align: top;"><p>%s is not a supported region.</p></td>
<td style="text-align: left; vertical-align: top;"><p>The region code provided to the AMaasClient constructor is not a valid region.</p></td>
</tr>
<tr>
<td style="text-align: left; vertical-align: top;"><p>MSG_ID_ERR_MISSING_AUTH</p></td>
<td style="text-align: left; vertical-align: top;"><p>Must provide an API key to use the client.</p></td>
<td style="text-align: left; vertical-align: top;"><p>The API key provided to the AMaasClient constructor cannot be empty or <code>null</code>.</p></td>
</tr>
<tr>
<td style="text-align: left; vertical-align: top;"><p>MSG_ID_ERR_KEY_AUTH_FAILED</p></td>
<td style="text-align: left; vertical-align: top;"><p>You are not authenticated. Invalid C1 token or API key.</p></td>
<td style="text-align: left; vertical-align: top;"><p>The API key is invalid. Please make sure a correct Trend Vision One API key is used.</p></td>
</tr>
<tr>
<td style="text-align: left; vertical-align: top;"><p>MSG_ID_ERR_FILE_NOT_FOUND</p></td>
<td style="text-align: left; vertical-align: top;"><p>Failed to open file. No such directory or file %s.</p></td>
<td style="text-align: left; vertical-align: top;"><p>The given file cannot be found. Please make sure the file exists.</p></td>
</tr>
<tr>
<td style="text-align: left; vertical-align: top;"><p>MSG_ID_ERR_FILE_NO_PERMISSION</p></td>
<td style="text-align: left; vertical-align: top;"><p>Failed to open file. Permission denied to open %s.</p></td>
<td style="text-align: left; vertical-align: top;"><p>There is a file access permission issue. Please make sure the SDK has read permission to the file.</p></td>
</tr>
<tr>
<td style="text-align: left; vertical-align: top;"><p>MSG_ID_GRPC_ERROR</p></td>
<td style="text-align: left; vertical-align: top;"><p>Received gRPC status code %d, msg: %s.</p></td>
<td style="text-align: left; vertical-align: top;"><p>A gRPC error was reported with the status code. For details, see <a href="https://grpc.github.io/grpc/core/md_doc_statuscodes">gRPC Status Codes</a>.</p></td>
</tr>
<tr>
<td style="text-align: left; vertical-align: top;"><p>MSG_ID_ERR_UNEXPECTED_INTERRUPT</p></td>
<td style="text-align: left; vertical-align: top;"><p>Unexpected interrupt encountered.</p></td>
<td style="text-align: left; vertical-align: top;"><p>An unexpected interrupt signal was received at the client.</p></td>
</tr>
</tbody>
</table>

### Thread safety {#thread-safety}

Both scanFile() and scanBuffer() are designed to be thread-safe. They should be able to invoke scanFile() concurrently from multiple threads without protecting scanFile() with mutex or other synchronization mechanisms.
:::
