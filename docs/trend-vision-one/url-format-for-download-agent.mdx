---
slug: trend-vision-one-url-format-for-download-agent
title: URL format for download of the agent
---
# URL format for download of the agent

::The agent software package can be downloaded from Server & Workload Protection, using a well-defined URL format.

In most cases, use of the [standard deployment scripts](deployment-scripts-add-computers.mdx) (which, by the way, also use this same URL format described in this section to download the agent software) is the quickest way to get started and will meet the majority of your deployment requirements.

Use of this URL format directly is useful if you require further customization for the download and install of agents. For example, in some cases it may be necessary to have the deployment scripts that run on each server point to a local storage location (for example, AWS S3) rather than have each server reach out to Server & Workload Protection to download software. You can use this URL format to build your own automation to periodically download new agent versions to your local storage location, and then point the agent deployment scripts that run on each server to your local storage location to meet this objective.

### Agent download URL format {#agent-download-url-format}

The URL format used to download the agent is:

`https://<dsm fqdn>/software/agent/<platform>/<arch>/<agent version>/<filename>`

All the parameters that comprise the URL format are described below.

### \<dsm fqdn\> parameter {#dsm-fqdn-parameter}

The `<dsm fqdn>` parameter is the fully-qualified domain name of Server & Workload Protection, which is `app.deepsecurity.trendmicro.com`. Server & Workload Protection can be used for testing any of the examples provided in this topic.

### \<filename\> parameter {#filename-parameter}

The `<filename>` parameter is the file name of the agent installer file. The file name is dependent on the installation process used by each platform:

<table>
<colgroup>
<col style="width: 25%" />
<col style="width: 75%" />
</colgroup>
<thead>
<tr>
<th><p>Platform</p></th>
<th><p>&lt;filename&gt;</p></th>
</tr>
</thead>
<tbody>
<tr>
<td><p>Linux</p>
<p>Red Hat Enterprise Linux, CentOS, Oracle, CloudLinux, Amazon Linux, SUSE</p></td>
<td><pre class="codeblock"><code>agent.rpm</code></pre></td>
</tr>
<tr>
<td><p>Linux</p>
<p>Debian, Ubuntu</p></td>
<td><pre class="codeblock"><code>agent.deb</code></pre></td>
</tr>
<tr>
<td><p>Windows</p></td>
<td><pre class="codeblock"><code>agent.msi</code></pre></td>
</tr>
<tr>
<td><p>AIX</p></td>
<td><pre class="codeblock"><code>agent.bff.gz</code></pre></td>
</tr>
<tr>
<td><p>Solaris 11+</p></td>
<td><pre class="codeblock"><code>agent.p5p.gz</code></pre></td>
</tr>
<tr>
<td><p>Solaris 10 or earlier</p></td>
<td><pre class="codeblock"><code>agent.pkg.gz</code></pre></td>
</tr>
<tr>
<td><p>macOS</p></td>
<td><pre class="codeblock"><code>agent.pkg</code></pre></td>
</tr>
</tbody>
</table>

:::note

Server & Workload Protection does not validate the file name itself; however when a file name is specified, the extension must be one of .rpm, .msi, .deb, .gz. If any other file name is specified, the file name returned by Server & Workload Protection will always be one of the names provided in the table above.
:::

### \<agent version\> parameter {#agent-version-parameter}

The `<agent version>` parameter is optional.

When this parameter is not specified, the latest LTS agent released by Trend Micro for the target platform is returned.

When this parameter is specified, this represents the agent version string. For example "12.0.0.123".

### Should I include the \<agent version\> explicitly in my scripts? {#should-i-include-the-agent-version-explicitly-in-my-scripts}

If your intent is to only use a specific version of the agent in a controlled environment, then explicitly adding the agent version to the URL will accomplish this goal.

When deploying agents at scale, it should be noted that adding the agent version in the URL (which hardcodes this agent version into every script you distribute) can create challenges for security operations teams that will be distributing scripts to many applications teams.

Consider the process that will be needed when the time arrives to use a newer version of the agent. If the `<agent version>` is hardcoded in each script you distribute, this will require that each of these scripts requires an update to start using the new agent version. If you have many internal application teams, the process to request changes to each one of these scripts in use can be significant.

Server & Workload Protection provides two options to deal with this challenge:

- Simply use scripts that omit the `<agent version>` component from the path. The latest LTS agent meets your requirements, this is the most straightforward option to use.

- Use agent version control. Agent version control provides the ability for the Server & Workload Protection administrator to select on a per-platform basis exactly what agent version is returned from Server & Workload Protection. More detail on agent version control and how to leverage this feature from your scripts can be found at Using agent version control to define which agent version is returned.

### \<platform\>, \<arch\>, and \<filename\> parameters {#platform-arch-and-filename-parameters}

The `<platform>`, `<arch>`, and `<filename>` parameters should be replaced with the strings listed in the table below.

:::note

`<platform>` and `<arch>` are case-sensitive.
:::

<table>
<thead>
<tr>
<th><p>Platform</p></th>
<th><p>Distribution</p></th>
<th><p>&lt;platform&gt;</p></th>
<th><p>&lt;arch&gt;</p></th>
<th><p>&lt;filename&gt;</p></th>
<th><p>Example</p></th>
</tr>
</thead>
<tbody>
<tr>
<td><p>Linux</p></td>
<td><p>Amazon 1</p></td>
<td><p>amzn1</p></td>
<td><p>x86_64</p></td>
<td><p>agent.rpm</p></td>
<td><p>/software/agent/amzn1/x86_64/agent.rpm</p></td>
</tr>
<tr>
<td></td>
<td><p>Amazon 2</p></td>
<td><p>amzn2</p></td>
<td><p>x86_64</p></td>
<td><p>agent.rpm</p></td>
<td><p>/software/agent/amzn2/x86_64/agent.rpm</p></td>
</tr>
<tr>
<td></td>
<td><p>CloudLinux 6</p></td>
<td><p>CloudLinux_6</p></td>
<td><p>x86_64</p></td>
<td><p>agent.rpm</p></td>
<td><p>/software/agent/CloudLinux_6/x86_64/agent.rpm</p></td>
</tr>
<tr>
<td></td>
<td><p>CloudLinux 7</p></td>
<td><p>CloudLinux_7</p></td>
<td><p>x86_64</p></td>
<td><p>agent.rpm</p></td>
<td><p>/software/agent/CloudLinux_7/x86_64/agent.rpm</p></td>
</tr>
<tr>
<td></td>
<td><p>CloudLinux 8</p></td>
<td><p>CloudLinux_8</p></td>
<td><p>x86_64</p></td>
<td><p>agent.rpm</p></td>
<td><p>/software/agent/CloudLinux_8/x86_64/agent.rpm</p></td>
</tr>
<tr>
<td></td>
<td><p>Debian 7</p></td>
<td><p>Debian_7</p></td>
<td><p>x86_64</p></td>
<td><p>agent.deb</p></td>
<td><p>/software/agent/Debian_7/x86_64/agent.deb</p></td>
</tr>
<tr>
<td></td>
<td><p>Debian 8</p></td>
<td><p>Debian_8</p></td>
<td><p>x86_64</p></td>
<td><p>agent.deb</p></td>
<td><p>/software/agent/Debian_8/x86_64/agent.deb</p></td>
</tr>
<tr>
<td></td>
<td><p>Debian 9</p></td>
<td><p>Debian_9</p></td>
<td><p>x86_64</p></td>
<td><p>agent.deb</p></td>
<td><p>/software/agent/Debian_9/x86_64/agent.deb</p></td>
</tr>
<tr>
<td></td>
<td><p>Oracle Linux 6</p></td>
<td><p>Oracle_OL6</p></td>
<td><p>x86_64</p></td>
<td><p>agent.rpm</p></td>
<td><p>/software/agent/Oracle_OL6/x86_64/agent.rpm</p></td>
</tr>
<tr>
<td></td>
<td><p>Oracle Linux 6</p></td>
<td><p>Oracle_OL6</p></td>
<td><p>i386</p></td>
<td><p>agent.rpm</p></td>
<td><p>/software/agent/Oracle_OL6/i386/agent.rpm</p></td>
</tr>
<tr>
<td></td>
<td><p>Oracle Linux 7</p></td>
<td><p>Oracle_OL7</p></td>
<td><p>x86_64</p></td>
<td><p>agent.rpm</p></td>
<td><p>/software/agent/Oracle_OL7/x86_64/agent.rpm</p></td>
</tr>
<tr>
<td></td>
<td><p>RedHat 6</p></td>
<td><p>RedHat_EL6</p></td>
<td><p>x86_64</p></td>
<td><p>agent.rpm</p></td>
<td><p>/software/agent/RedHat_EL6/x86_64/agent.rpm</p></td>
</tr>
<tr>
<td></td>
<td><p>RedHat 6</p></td>
<td><p>RedHat_EL6</p></td>
<td><p>i386</p></td>
<td><p>agent.rpm</p></td>
<td><p>/software/agent/RedHat_EL6/i386/agent.rpm</p></td>
</tr>
<tr>
<td></td>
<td><p>RedHat 7</p></td>
<td><p>RedHat_EL7</p></td>
<td><p>x86_64</p></td>
<td><p>agent.rpm</p></td>
<td><p>/software/agent/RedHat_EL7/x86_64/agent.rpm</p></td>
</tr>
<tr>
<td></td>
<td><p>RedHat 8</p></td>
<td><p>RedHat_EL8</p></td>
<td><p>x86_64</p></td>
<td><p>agent.rpm</p></td>
<td><p>/software/agent/RedHat_EL8/x86_64/agent.rpm</p></td>
</tr>
<tr>
<td></td>
<td><p>SuSE 11</p></td>
<td><p>SuSE_11</p></td>
<td><p>x86_64</p></td>
<td><p>agent.rpm</p></td>
<td><p>/software/agent/SuSE_11/x86_64/agent.rpm</p></td>
</tr>
<tr>
<td></td>
<td><p>SuSE 11</p></td>
<td><p>SuSE_11</p></td>
<td><p>i386</p></td>
<td><p>agent.rpm</p></td>
<td><p>/software/agent/SuSE_11/i386/agent.rpm</p></td>
</tr>
<tr>
<td></td>
<td><p>SuSE 12</p></td>
<td><p>SuSE_12</p></td>
<td><p>x86_64</p></td>
<td><p>agent.rpm</p></td>
<td><p>/software/agent/SuSE_12/x86_64/agent.rpm</p></td>
</tr>
<tr>
<td></td>
<td><p>SuSE 15</p></td>
<td><p>SuSE_15</p></td>
<td><p>x86_64</p></td>
<td><p>agent.rpm</p></td>
<td><p>/software/agent/SuSE_15/x86_64/agent.rpm</p></td>
</tr>
<tr>
<td></td>
<td><p>Ubuntu 16.04</p></td>
<td><p>Ubuntu_16.04</p></td>
<td><p>x86_64</p></td>
<td><p>agent.deb</p></td>
<td><p>/software/agent/Ubuntu_16.04/x86_64/agent.deb</p></td>
</tr>
<tr>
<td></td>
<td><p>Ubuntu 18.04</p></td>
<td><p>Ubuntu_18.04</p></td>
<td><p>x86_64</p></td>
<td><p>agent.deb</p></td>
<td><p>/software/agent/Ubuntu_18.04/x86_64/agent.deb</p></td>
</tr>
<tr>
<td><p>Windows</p></td>
<td></td>
<td><p>Windows</p></td>
<td><p>x86_64</p></td>
<td><p>agent.msi</p></td>
<td><p>/software/agent/Windows/x86_64/agent.msi</p></td>
</tr>
<tr>
<td></td>
<td></td>
<td><p>Windows</p></td>
<td><p>i386</p></td>
<td><p>agent.msi</p></td>
<td><p>/software/agent/Windows/i386/agent.msi</p></td>
</tr>
<tr>
<td><p>Unix</p></td>
<td><p>Solaris 10 Updates 4-6</p></td>
<td><p>Solaris_5.10_U5</p></td>
<td><p>x86_64</p></td>
<td><p>agent.pkg.gz</p></td>
<td><p>/software/agent/Solaris_5.10_U5/x86_64/agent.pkg.gz</p></td>
</tr>
<tr>
<td></td>
<td></td>
<td><p>Solaris_5.10_U5</p></td>
<td><p>sparc</p></td>
<td><p>agent.pkg.gz</p></td>
<td><p>/software/agent/Solaris_5.10_U5/sparc/agent.pkg.gz</p></td>
</tr>
<tr>
<td></td>
<td><p>Solaris 10 Updates 7-11</p></td>
<td><p>Solaris_5.10_U7</p></td>
<td><p>x86_64</p></td>
<td><p>agent.pkg.gz</p></td>
<td><p>/software/agent/Solaris_5.10_U7/x86_64/agent.pkg.gz</p></td>
</tr>
<tr>
<td></td>
<td></td>
<td><p>Solaris_5.10_U7</p></td>
<td><p>sparc</p></td>
<td><p>agent.pkg.gz</p></td>
<td><p>/software/agent/Solaris_5.10_U7/sparc/agent.pkg.gz</p></td>
</tr>
<tr>
<td></td>
<td><p>Solaris 11 Updates 1-3</p></td>
<td><p>Solaris_5.11</p></td>
<td><p>x86_64</p></td>
<td><p>agent.p5p.gz</p></td>
<td><p>/software/agent/Solaris_5.11/x86_64/agent.p5p.gz</p></td>
</tr>
<tr>
<td></td>
<td></td>
<td><p>Solaris_5.11</p></td>
<td><p>sparc</p></td>
<td><p>agent.p5p.gz</p></td>
<td><p>/software/agent/Solaris_5.11/sparc/agent.p5p.gz</p></td>
</tr>
<tr>
<td></td>
<td><p>Solaris 11 Update 4</p></td>
<td><p>Solaris_5.11_U4</p></td>
<td><p>x86_64</p></td>
<td><p>agent.p5p.gz</p></td>
<td><p>/software/agent/Solaris_5.11_U4/x86_64/agent.p5p.gz</p></td>
</tr>
<tr>
<td></td>
<td></td>
<td><p>Solaris_5.11_U4</p></td>
<td><p>sparc</p></td>
<td><p>agent.p5p.gz</p></td>
<td><p>/software/agent/Solaris_5.11_U4/sparc/agent.p5p.gz</p></td>
</tr>
<tr>
<td></td>
<td><p>AIX 5.3 (Agent version 9.0)</p></td>
<td><p>AIX_5.3</p></td>
<td><p>powerpc</p></td>
<td><p>agent.bff.gz</p></td>
<td><p>/software/agent/AIX_5.3/powerpc/agent.bff.gz</p></td>
</tr>
<tr>
<td></td>
<td><p>AIX 6.1 (Agent version 9.0)</p></td>
<td><p>AIX_6.1</p></td>
<td><p>powerpc</p></td>
<td><p>agent.bff.gz</p></td>
<td><p>/software/agent/AIX_6.1/powerpc/agent.bff.gz</p></td>
</tr>
<tr>
<td></td>
<td><p>AIX 7.1, 7.2 (Agent version 9.0)</p></td>
<td><p>AIX_7.1</p></td>
<td><p>powerpc</p></td>
<td><p>agent.bff.gz</p></td>
<td><p>/software/agent/AIX_7.1/powerpc/agent.bff.gz</p></td>
</tr>
<tr>
<td></td>
<td><p>AIX 6.1, 7.1, 7.2 (Agent version 12 +)</p></td>
<td><p>AIX</p></td>
<td><p>powerpc</p></td>
<td><p>agent.bff.gz</p></td>
<td><p>/software/agent/AIX/powerpc/agent.bff.gz</p></td>
</tr>
<tr>
<td><p>macOS</p></td>
<td><p>10.15</p></td>
<td><p>macOS</p></td>
<td><p>universal</p></td>
<td><p>agent.pkg</p></td>
<td><p>/software/agent/macOS/universal/agent.pkg</p></td>
</tr>
<tr>
<td></td>
<td><p>11</p></td>
<td><p>macOS</p></td>
<td><p>universal</p></td>
<td><p>agent.pkg</p></td>
<td><p>/software/agent/macOS/universal/agent.pkg</p></td>
</tr>
<tr>
<td></td>
<td><p>12</p></td>
<td><p>macOS</p></td>
<td><p>universal</p></td>
<td><p>agent.pkg</p></td>
<td><p>/software/agent/macOS/universal/agent.pkg</p></td>
</tr>
</tbody>
</table>

### Agent download URL examples {#agent-download-url-examples}

Without `<agent version>`:

- `https://app.deepsecurity.trendmicro.com/software/agent/RedHat_EL7/x86_64/agent.rpm`
- `https://app.deepsecurity.trendmicro.com/software/agent/Windows/x86_64/agent.msi`

With `<agent version>`:

- `https://app.deepsecurity.trendmicro.com/software/agent/RedHat_EL7/x86_64/12.0.0.481/agent.rpm`
- `https://app.deepsecurity.trendmicro.com/software/agent/Windows/x86_64/12.0.0.481/agent.msi`

### Exceptions for backwards compatibility {#exceptions-for-backwards-compatibility}

If no `<filename>` is provided after `[...]/<platform>/<arch>/`, Server & Workload Protection will return the agent download for that platform as described in the previous table.

If the path ends at `[...]<platform>/<arch>` (because both `<agent version>` and `<filename>` were not specified), Server & Workload Protection will return the agent download for that platform as described in the table above.

Examples:

- `https://app.deepsecurity.trendmicro.com/software/agent/RedHat_EL7/x86_64/`
- `https://app.deepsecurity.trendmicro.com/software/agent/Windows/x86_64`

### Using agent version control to define which agent version is returned {#using-agent-version-control-to-define-which-agent-version-is-returned}

The [agent version control](configure-agent-version-control.mdx) feature provides the ability to control what agents are returned when any URL request is made to Server & Workload Protection to download the agent.

To enable agent version control, send the following HTTP header with your URL request:

`Agent-Version-Control: on`

It should be noted that there are specific query parameters that are also required on each platform to use agent version control. They are:

<table>
<colgroup>
<col style="width: 20%" />
<col style="width: 20%" />
<col style="width: 60%" />
</colgroup>
<thead>
<tr>
<th><p>Platform</p></th>
<th><p>Required query parameters</p></th>
<th><p>Example</p></th>
</tr>
</thead>
<tbody>
<tr>
<td><p>Windows</p></td>
<td><p>tenantID,windowsVersion,windowsProductType</p></td>
<td><p>/software/agent/Windows/x86_64/agent.msi?tenantID=123&amp;windowsVersion=10.0.17134&amp;windowsProductType=3</p></td>
</tr>
<tr>
<td><p>Linux</p></td>
<td><p>tenantID</p></td>
<td><p>/software/agent/RedHat_EL7/x86_64/agent.rpm?tenantID=123</p></td>
</tr>
<tr>
<td><p>Solaris</p></td>
<td><p>tenantID</p></td>
<td><p>/software/agent/Solaris_5.11_U4/x86_64/agent.p5p.gz?tenantID=123</p></td>
</tr>
<tr>
<td><p>AIX</p></td>
<td><p>tenantID, aixVersion, aixRelease</p></td>
<td><p>/software/agent/AIX/powerpc/agent.bff.gz?tenantID=123&amp;aixVersion=7&amp;aixRelease=1</p></td>
</tr>
<tr>
<td><p>macOS</p></td>
<td><p>tenantID.macOsVersion</p></td>
<td><p>/software/agent/macOS/universal/agent.pkg?tenantID=123&amp;macOS=10.15.1.20G71&amp;</p></td>
</tr>
</tbody>
</table>

:::note

The parameters in the table above are automatically generated by the deployment scripts.
:::

### Agent version control examples {#agent-version-control-examples}

For examples, refer to the sample deployment script generated from Server & Workload Protection. By default the deployment scripts generated by Server & Workload Protection use agent version control and demonstrate how to acquire these parameters for each platform.

### Interactions between the \<agent version\> parameter and agent version control {#interactions-between-the-agent-version-parameter-and-agent-version-control}

Given the intent of the agent version control feature is to provide the Server & Workload Protection administrator control over which agent version is returned, there is a natural conflict with a URL request that also includes the `<agent version>` parameter.

For this reason you should not specify the `<agent version>` as part of your request when sending the `Agent-Version-Control: on` HTTP header.

If we see both the `Agent-Version-Control: on` HTTP header and the `<agent version>` parameter in the request, the version of the agent returned will be determined by the value taken from the agent version control configuration. (We will ignore the `<agent version>` in the URL.)
::::::
