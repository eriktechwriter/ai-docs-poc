---
id: obtain-apikey-auto-cluster-reg
title: Obtain an API key for automated cluster registration
sidebar_label: Obtain an API key for automated cluster registration
description: Obtain an API key for automated cluster registration
tags:
  - endpoint-security
  - trend-vision-one
---

/*<![CDATA[*/ $('#title').html($('meta[name=map-description]').attr('content')); /*]]>*/ Obtain an API key for automated cluster registration Automated cluster registration requires that you obtain an API key from Trend Vision One. Ensure that you create an API key specifically for the endpoint you are calling (for example, create an API Key for the “us-east-1” region if you are planning to call the “us-east-1” endpoint to ensure proper authorization). Refer to the region flags to see a list of supported regions associated with the respective API key. You must add the API key account to a role with the "Automatically register cluster" permission. Only administrators with the necessary permissions can access the API Keys and User Roles screens. Contact your Trend Vision One administrator to obtain an API key and enable the Automatically register cluster permission on the related user role. Note After Container Security is uninstalled, automatically registered clusters are unregistered when their retention period is reached. After receiving a valid Trend Vision One API key, store the key as a secret in the target cluster. The name of the secret must be trendmicro-container-security-registration-key. This secret should contain only one key-value pair, with the key labeled as registration.key, and the value is the API key itself. Save the API key in a text file named v1_api_key.txt, and use the following command to create the secret: kubectl create secret generic trendmicro-container-security-registration-key \ --from-file=registration.key=/Users/USERNAME/Documents/charts/container-sec/v1_api_key.txt -n trendmicro-system Note We recommend creating this key using the pipeline or the secret operator in the production cluster. © 2025 Trend Micro Incorporated. All rights reserved.Search Knowledge Base