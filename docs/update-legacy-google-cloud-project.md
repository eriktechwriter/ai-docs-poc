---
id: update-legacy-google-cloud-project
title: Updating a legacy Google Cloud connection (January 2025 update)
sidebar_label: Updating a legacy Google Cloud connection (January 2025 update)
description: Updating a legacy Google Cloud connection (January 2025 update)
tags:
  - endpoint-security
  - trend-vision-one
---

/*<![CDATA[*/ $('#title').html($('meta[name=map-description]').attr('content')); /*]]>*/ Updating a legacy Google Cloud connection (January 2025 update) Update your Google Cloud projects imported from Cloud Security Posture and Server & Workload Protection. When updating certain Trend Micro products to Trend Vision One, the Cloud Accounts app automatically imports your monitored Google Cloud projects as legacy connections. Legacy connections include projects added when updating the following products: Updating Trend Cloud One - Conformity to Trend Vision One Cloud Security Posture. To enable the advanced cloud security features of Trend Vision One, you must update your legacy connections. Updating a legacy Google Cloud project connection allows Trend Vision One to access your cloud service to provide security and visibility into your cloud assets. Before you begin, review the permission requirements for connecting a Google Cloud project to Cloud Accounts. Important The following steps are for updating a Legacy Connection imported from another product or service. To update resources on a connected project to add new features or deploy the latest resource package, see Google Cloud Resource Update (January 2025 update). Agentless Vulnerability & Threat Detection is a pre-release feature and is not part of the existing features of an official commercial or general release. Please review the Pre-release disclaimer before using the features. The January 2025 update is not available in all regions. To check which version you have, verify if you have access to the Agentless Vulnerability & Threat Detection feature. If not, see Updating a legacy Google Cloud connection to update your legacy connection. The steps are valid as of January 2025. Procedure Sign in to the Trend Vision One console. In a new tab in the same browser session, sign in to the Google Cloud project you want to connect and access the Cloud Shell. In the Trend Vision One console, go to Cloud Security → Cloud Accounts → Google Cloud. Click the name of the legacy connection you want to update. In the Project Settings screen, click Update Project. The Add Google Cloud Project screen appears. Verify the Name, Description, and Project ID, or edit as needed. Select the region to deploy the terraform script. Click Next. Choose which Features and Permissions to enable on the account. Core Features: Connect your Google Cloud project to Trend Vision One to discover your cloud assets and rapidly identify risks such as compliance and security best practice violations on your cloud infrastructure. Agentless Vulnerability & Threat Detection: Deploy Agentless Vulnerability & Threat Detection in your Google Cloud project to discover vulnerabilities and malware in your Google Cloud VM instances, Disks, and Google Artifact Registry images with zero impact to your applications. Select the regions you want to deploy the feature to. For more information about each feature and permission, see Google Cloud features and permissions. Click Next. In Google Cloud Shell, access the command line interface. Note The Add Google Cloud Project screen in the Trend Vision One console provides a set of commands to help complete the following steps. To complete the connection process, you must copy each command provided in the screen to enable the Done button. Access the project you want to connect. Copy the command or type gcloud config set project [project ID] where [project ID] is the Project ID you want to connect. Create a new directory for the deployment folder within the project you want to connect, then access the folder. In CloudShell, copy the command to create the deployment folder. Note Trend Micro recommends using the Project ID as the name for the deployment folder. While you can specify any directory name you want, you must ensure the folder has a unique name and that there are no other terraform files in the deployment folder. Choose your upload method. To use a command to upload the template directly to your CloudShell, select Upload via CLI. Copy and paste the curl command into your CloudShell interface to retrieve the template package. The command is dynamically generated based on your account and region. To download the template first and upload from your local machine, select Manual Upload. Click Download the Terraform Template to save the template to your local machine. Make sure your CloudShell environment is set to the same region you selected for the terraform deployment before uploading the package. Extract the template using the command in the Add Google Cloud Project screen. The .zip file name contains a randomly generated number. Copy the command to extract the file. Navigate to the deployment folder by copying the command in the Add Google Cloud Project screen. Copy the command or type cd cloud-account-management-terraform-package. Important The resource creation script must be the only terraform file in the directory. Having more than one terraform file in the folder interferes with deployment process and might cause the connection to fail. Initiate Terraform and run the deployment script. If you are deploying without enabling Agentless Vulnerability & Threat Detection, type the command ./deploy.sh. If you are deploying with Agentless Vulnerability & Threat Detection enabled, use one of the following commands to specify sidecar project and billing handling. For more information about sidecar projects, see Get started with Agentless Vulnerability & Threat Detection in Google Cloud. To allow Trend Vision One to automatically detect your Google Cloud billing info and create a sidecar project, type the command ./deploy.sh without any parameters. To specify your Google Cloud billing info and allow Trend Vision One to create a sidecar project, type the command ./deploy.sh --billing_account "[billingID]". To specify a sidecar project, type the command ./deploy.sh --sidecar_project_id "[sidecarID]". Trend Vision One does not require your Google Cloud billing info if you specify the sidecar project. To specify both your billing info and sidecar project, type the command ./deploy.sh --billing_account "[billingID]" --sidecar_project_id "[sidecarID]" To deploy all resources to your connected project without using a sidecar project, type the command ./deploy.sh --billing_account "[billingID]" --sidecar_project_id "[projectID]" Important To manually specify a sidecar project, you must have a sidecar project configured before updating. If you are not using a sidecar project, the projectID parameter must be the same as the project you are connecting. Google Cloud Shell begins the terraform process to deploy Trend Vision One security resources. In the Trend Vision One console, in the Add Google Cloud Project screen, click Done. Note If the Done button is not enabled, make sure you have copied the command line for each step on the screen. The update process might take a few moments to complete. You can refresh the Cloud Accounts screen to check the status of your updated legacy project. Once the update process is complete, you can safely remove any Trend Cloud One Conformity data from your cloud account. © 2025 Trend Micro Incorporated. All rights reserved.Search Knowledge Base