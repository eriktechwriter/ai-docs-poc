---
id: updating-legacy-google-connection
title: Updating a legacy Google Cloud connection
sidebar_label: Updating a legacy Google Cloud connection
description: Updating a legacy Google Cloud connection
tags:
  - endpoint-security
  - trend-vision-one
---

/*<![CDATA[*/ $('#title').html($('meta[name=map-description]').attr('content')); /*]]>*/ Updating a legacy Google Cloud connection Update your Google Cloud projects imported from Cloud Security Posture and Server & Workload Protection. When updating certain Trend Micro products to Trend Vision One, the Cloud Accounts app automatically imports your monitored Google Cloud projects as legacy connections. Legacy connections include projects added when updating the following products: Updating Trend Cloud One - Conformity to Trend Vision One Cloud Security Posture. To enable the advanced cloud security features of Trend Vision One, including Container Security features, you must update your legacy connections. Updating a legacy Google Cloud project connection allows Trend Vision One to access your cloud service to provide security and visibility into your cloud assets. Before you begin, review the permission requirements for connecting a Google Cloud project to Cloud Accounts.. Important If you have access to the Agentless Vulnerability and Threat Detection feature for Google Cloud, see Updating a legacy Google Cloud connection (January 2025 update) to update your Legacy Connection. The steps are valid as of March 2024. Procedure Sign in to the Trend Vision One console. In a new tab in the same browser session, sign in to the Google Cloud project you want to connect and access the Cloud Shell. In the Trend Vision One console, go to Cloud Security → Cloud Accounts → Google Cloud. Click the name of the legacy connection you want to update. In the Project Settings screen, click Update Project. The Connect Google Cloud Project screen appears. Verify the Name and Description, or edit as needed. Click Download Resource Creation Script. In Google Cloud Shell, access the command line interface. Note The Connect Google Cloud Project screen in the Trend Vision One console provides a set of commands to help complete the following steps. To complete the connection process, you must copy each command provided in the screen to enable the Done button. Access the project you want to connect. Copy the command or type gcloud config set project [project ID] where [project ID] is the Project ID you want to connect. Create a new directory for the deployment folder within the project you want to connect, then access the folder. Copy the command or type mkdir [Project ID] && cd [Project ID]. Note Trend Micro recommends using the Project ID as the name for the deployment folder. While you can specify any directory name you want, you must ensure the folder has a unique name and that there are no other terraform files in the deployment folder. Upload the resource creation script to your Google Cloud Shell. Google Cloud Shell uploads the resource creation script to the root directory. Move the resource creation script to the deployment folder. Copy the command or type mv ~/cloud-account-management-terraform-gcp.tf ./cloud-account-management-terraform-gcp.tf. Important The resource creation script must be the only terraform file in the directory. Having more than one terraform file in the folder interferes with deployment process and might cause the connection to fail. Initiate Terraform and apply the resource creation script. Copy the command or type terraform init && terraform apply. Google Cloud Shell begins the terraform process to deploy Trend Vision One security resources. In the Trend Vision One console, in the Connect Google Cloud Project screen, click Done. Note If the Done button is not enabled, make sure you have copied the command line for each step on the screen. The update process might take a few moments to complete. You can refresh the Cloud Accounts screen to check the status of your updated legacy project. Once the update process is complete, you can safely remove any Trend Cloud One Conformity data from your cloud account. © 2025 Trend Micro Incorporated. All rights reserved.Search Knowledge Base